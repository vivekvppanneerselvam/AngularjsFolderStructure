angular.module('datePicker', ['obDateRangePicker', 'datePickerTemplates']);

angular.module('datePicker')
    .component('datePicker', {
        bindings: {
            format: '<',
            includeInputs: '<',
            isRange: '<',
            minDate: '<',
            maxDate: '<',
            name: '@',
            selectedDate: '=',
            startDate: '=',
            endDate: '=',
            disabled: '<',
            applyCallback: '&'
        },
        controller: 'DatePickerController',
        templateUrl: 'date-picker/date-picker.html'
    });

angular.module('datePicker')
    .controller('DatePickerController', DatePickerController);

DatePickerController.$inject = ['$timeout'];

function DatePickerController($timeout) {

    var ctrl = this;

    ctrl.$onInit = $onInit;
    ctrl.applyRange = applyRange;

    function $onInit() {

        if (ctrl.isRange) {
            ctrl.type = 'range';
        } else {
            ctrl.type = 'single';
        }

        ctrl.range = {
            start: ctrl.startDate,
            end: ctrl.endDate
        };
    }

    function applyRange(start, end) {
        ctrl.startDate = moment(start).format(ctrl.format);
        ctrl.endDate = moment(end).format(ctrl.format);
        $timeout(ctrl.applyCallback, 1);
    }
}

!function(a){try{a=angular.module("datePickerTemplates")}catch(e){a=angular.module("datePickerTemplates",[])}a.run(["$templateCache",function(a){a.put("date-picker/date-picker.html",'<ob-daterangepicker ng-if="$ctrl.type===\'range\'" range="$ctrl.range" linked-calendars="false" auto-apply="false" format="$ctrl.format"\n\tinput-format="$ctrl.format" min-day="$ctrl.minDate" max-day="$ctrl.maxDate" class="date-range-picker right" ng-class="{\'show-inputs\': $ctrl.includeInputs}"\n\ton-apply="$ctrl.applyRange(start, end)" disabled="$ctrl.disabled">\n</ob-daterangepicker>\n\n<ob-daypicker ng-if="$ctrl.type===\'single\'" selected-day="$ctrl.selectedDate" format="$ctrl.format" min-day="$ctrl.minDate"\n\tmax-day="$ctrl.maxDate" class="date-picker" valid-day="true" name="{{$ctrl.name}}" disabled="$ctrl.disabled">\n</ob-daypicker>')}])}();
/******/!function(e){function t(n){if(a[n])return a[n].exports;var i=a[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}// webpackBootstrap
/******/
var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){a(1),e.exports=a(8)},function(e,t,a){"use strict";var n=a(2),i=a(3),r=a(4),s=a(5),o=a(6),d=a(7);angular.module("obDateRangePicker",[]).constant("moment",moment).provider("dateRangePickerConf",n.DateRangePickerProvider).provider("datePickerConf",i.DatePickerProvider).directive("dateRangePicker",r.DateRangePicker).directive("obDaterangepicker",o.ObDateRangePicker).directive("calendar",s.Calendar).directive("obDaypicker",d.ObDayPicker)},function(e,t){"use strict";function a(){var e={};return{setConfig:function(t){e=t},$get:function(){return e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.DateRangePickerProvider=a},function(e,t){"use strict";function a(){var e={};return{setConfig:function(t){e=t},$get:function(){return e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.DatePickerProvider=a},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(){"ngInject";var e={restrict:"E",scope:{weekStart:"&",range:"=?",minDay:"&",maxDay:"&",api:"&",monthFormat:"&",inputFormat:"&",weekDaysName:"&",linkedCalendars:"&",interceptors:"&"},templateUrl:"app/directives/date-range-picker/date-range-picker.html",controller:s,controllerAs:"picker",bindToController:!0};return e}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.DateRangePicker=n;var s=function(){function e(t,n){"ngInject";a(this,e),this.Moment=t,this.Scope=n,this.range=this.range||{},this.setConfigurations(),this.startCalendarApi={},this.endCalendarApi={},this.setInterceptors(),this.setListeners(),this.setApi(),this.watchRangeChange(),this.interceptors=this.interceptors()||{}}return e.$inject=["moment","$scope"],i(e,[{key:"setApi",value:function(){var e=this,t=this.api()||{};r(t,{setCalendarPosition:function(t,a){e.startCalendar=t,e.linkedCalendars()||t.isSame(a,"M")?e.endCalendar=e.startCalendar.clone().add(1,"M"):e.endCalendar=a},render:function(){e.startCalendarApi.render(),e.endCalendarApi.render()}})}},{key:"setListeners",value:function(){var e=this;this.Scope.$watchGroup([function(){return e.range.start},function(){return e.range.end}],function(t){t[0]&&t[1]&&e.setConfigurations()})}},{key:"setConfigurations",value:function(){var e=void 0,t=void 0;this.isMomentRange(this.range)?(e=this.range.start,t=this.range.end):(e=this.Moment(this.range.start,this.getFormat()),t=this.Moment(this.range.end,this.getFormat())),t=t.diff(e)>=0?t:e.clone(),this.rangeStart=e,this.rangeEnd=t,this.daysSelected=2,this.updateRange()}},{key:"updateRange",value:function(){this.isMomentRange(this.range)?(this.range.start=this.rangeStart,this.range.end=this.rangeEnd):(this.range.start=this.rangeStart?this.rangeStart.format(this.getFormat()):null,this.range.end=this.rangeEnd?this.rangeEnd.format(this.getFormat()):null)}},{key:"setInterceptors",value:function(){var e=this;this.startCalendarInterceptors={moveToPrevClicked:function(){e.moveCalenders(-1,"start")},moveToNextClicked:function(){e.moveCalenders(1,"start")},daySelected:function(t){e.dayInStartSelected(t),e.daySelected(t),2==e.daysSelected&&e.interceptors.rangeSelectedByClick&&e.interceptors.rangeSelectedByClick()},inputSelected:function(t){e.inputInStartSelected(t)}},this.endCalendarInterceptors={moveToPrevClicked:function(){e.moveCalenders(-1,"end")},moveToNextClicked:function(){e.moveCalenders(1,"end")},daySelected:function(t){e.dayInEndSelected(t),e.daySelected(t),2==e.daysSelected&&e.interceptors.rangeSelectedByClick&&e.interceptors.rangeSelectedByClick()},inputSelected:function(t){e.inputInEndSelected(t)}}}},{key:"inputInStartSelected",value:function(e){switch(this.daysSelected){case 0:case 1:this.rangeStart=e,this.daysSelected=1;break;case 2:e.diff(this.rangeStart,"days")<0?this.rangeStart=e:e.isBetween(this.rangeStart,this.rangeEnd)?this.rangeStart=e:e.diff(this.rangeEnd,"days")>=0&&(this.rangeStart=e,this.rangeEnd=e),this.daysSelected=2,this.updateRange()}}},{key:"inputInEndSelected",value:function(e){switch(this.daysSelected){case 0:this.rangeStart=e,this.daysSelected=1;break;case 1:case 2:e.diff(this.rangeStart,"days")<=0?(this.rangeStart=e,this.rangeEnd=e):e.isSame(this.startCalendar,"months")||e.isSame(this.endCalendar,"months")?this.rangeEnd=e:e.isSame(this.endCalendar,"months")||(this.rangeEnd=e),this.daysSelected=2,this.updateRange()}}},{key:"dayInStartSelected",value:function(e){var t=this.startCalendar.clone().add(1,"M");e.isSame(t,"month")&&this.dayInEndSelected(e)}},{key:"dayInEndSelected",value:function(e){var t=this.endCalendar.clone().subtract(1,"M");e.isSame(t,"month")&&this.dayInStartSelected(e)}},{key:"daySelected",value:function(e){switch(this.daysSelected){case 0:this.rangeStart=e,this.daysSelected=1;break;case 1:e.diff(this.rangeStart,"days")<0?this.rangeStart=e:(this.rangeEnd=e,this.daysSelected=2,this.updateRange());break;case 2:this.daysSelected=1,this.rangeStart=e,this.rangeEnd=null}}},{key:"moveCalenders",value:function(e,t){this.areCalendarsLinked()?(this.startCalendar=this.startCalendar.clone().add(e,"M"),this.endCalendar=this.endCalendar.clone().add(e,"M")):"start"===t?this.startCalendar=this.startCalendar.clone().add(e,"M"):this.endCalendar=this.endCalendar.clone().add(e,"M")}},{key:"isMomentRange",value:function(e){var t=!1;return e&&e.start&&e.end&&(t=this.Moment.isMoment(this.range.start)&&this.Moment.isMoment(this.range.end)),t}},{key:"watchRangeChange",value:function(){var e=this;this.Scope.$watchGroup([function(){return e.rangeStart},function(){return e.rangeEnd}],function(t,a){var n=t[0],i=t[1],r=a[0],s=a[1];e.maxDay()&&n.isSame(e.maxDay(),"M")&&(n=n.clone().subtract(1,"M")),e.startCalendar||e.endCalendar||(e.startCalendar=n,e.endCalendar=n.clone().add(1,"M")),e.areCalendarsLinked()?n.isSame(e.startCalendar,"M")||n.isSame(e.endCalendar,"M")?i&&i.isAfter(e.endCalendar,"M")?(e.startCalendar=i,e.endCalendar=i.clone().add(1,"M")):n.isSame(e.endCalendar,"M")||(e.startCalendar=n,e.endCalendar=n.clone().add(1,"M")):n.isSame(r,"M")&&i&&!i.isSame(s,"M")?(e.startCalendar=i.clone().subtract(1,"M"),e.endCalendar=i):(e.startCalendar=n,e.endCalendar=n.clone().add(1,"M")):n.isSame(e.startCalendar,"M")||n.isSame(e.endCalendar,"M")?i&&i.isAfter(e.endCalendar,"M")&&(e.endCalendar=i):n.isBefore(e.startCalendar,"M")?(e.startCalendar=n,i&&!i.isSame(e.endCalendar,"M")&&(n.isSame(i,"M")?e.endCalendar=n.clone().add(1,"M"):e.endCalendar=i)):n.isAfter(e.endCalendar)&&(e.startCalendar=n,e.endCalendar=n.clone().add(1,"M"))})}},{key:"areCalendarsLinked",value:function(){return angular.isDefined(this.linkedCalendars())?this.linkedCalendars():!0}}]),e}()},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(){"ngInject";var e={restrict:"E",scope:{minDay:"&",maxDay:"&",weekStart:"&",getMonth:"&month",getInterceptors:"&interceptors",rangeStart:"&",rangeEnd:"&",selectedDay:"&",minMonth:"&",maxMonth:"&",weekDaysName:"&",monthFormat:"&",inputFormat:"&",showInput:"&",api:"=?"},templateUrl:"app/directives/calendar/calendar.html",controller:s,controllerAs:"month",bindToController:!0};return e}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.Calendar=n;var s=function(){function e(t,n,i){"ngInject";a(this,e),this.Moment=t,this.Scope=n,this.Attrs=i,this.api&&this.setApi(),this.render()}return e.$inject=["moment","$scope","$attrs"],i(e,[{key:"setApi",value:function(){r(this.api,{render:this.render.bind(this),moveToNext:this.moveToNext.bind(this),showLeftArrow:this.showLeftArrow.bind(this)})}},{key:"render",value:function(){this.defaultWeekDaysNames=this.weekDaysName()||["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.firstDayOfWeek=this.weekStart()||"su",this.daysOfWeek=this.buildWeek(this.firstDayOfWeek),this.calendar=this.buildCalendar(this.getMonth()),this.interceptors=this.getInterceptors()||{},this.setListeners(),this.daysName=this.setWeekDaysNames(this.daysOfWeek)}},{key:"setValue",value:function(){this.selectedDay()&&(this.value=this.selectedDay().format(this.getInputFormat()))}},{key:"setWeekDaysNames",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.defaultWeekDaysNames:arguments[1],a=[],n=this.Moment.weekdaysMin().reduce(function(e,t,a){return e[t.toLowerCase()]=a,e},{});return e.forEach(function(e,i){var r=n[e];a[i]=t[r]}),a}},{key:"setListeners",value:function(){var e=this;this.Scope.$watch(function(){return e.getMonth()},function(t){e.calendar=e.buildCalendar(t)}),this.Scope.$watchGroup([function(){return e.rangeStart()},function(){return e.rangeEnd()}],function(){e.setValue(),e.updateDaysProperties(e.calendar.monthWeeks)})}},{key:"updateDaysProperties",value:function(e){var t=this,a=this.minDay(),n=this.maxDay(),i=this.selectedDay(),r=this.rangeStart(),s=this.rangeEnd();e.forEach(function(e){e.forEach(function(e){e.selected=e.mo.isSame(i||null,"day"),e.inRange=t.isInRange(e.mo),e.rangeStart=e.mo.isSame(r||null,"day"),e.rangeEnd=e.mo.isSame(s||null,"day"),a&&(e.disabled=e.mo.isBefore(a,"day")),n&&!e.disabled&&(e.disabled=e.mo.isAfter(n,"day"))})})}},{key:"buildWeek",value:function(e){var t=this.Moment.weekdaysMin().map(function(e){return e.toLowerCase()}),a=t.indexOf(e.toLowerCase()),n=t.slice(0,a),i=t.slice(a,t.length),r=i.concat(n);return r}},{key:"buildCalendar",value:function(){for(var e=arguments.length<=0||void 0===arguments[0]?this.Moment():arguments[0],t=[[],[],[],[],[],[]],a=this.getMonthDateRange(e.year(),e.month()+1),n=a.start,i=this.daysOfWeek.indexOf(n.format("dd").toLowerCase()),r=n.clone().subtract(i,"d"),s=0;6>s;s++)for(var o=0;7>o;o++)t[s][o]={mo:r,currentDay:r.isSame(this.Moment(),"day"),currentMonth:r.isSame(e,"month")},r=r.clone().add(1,"d");return this.updateDaysProperties(t),{currentCalendar:e,selectedDate:e,firstDayOfMonth:a.start.format("D"),lastDayOfMonth:a.end.format("D"),monthWeeks:t}}},{key:"moveCalenderByMonth",value:function(e){var t=this.calendar.currentCalendar;this.month=t.clone().add(e,"M"),this.calendar=this.buildCalendar(this.month.clone())}},{key:"moveToNext",value:function(){this.interceptors.moveToNextClicked?this.interceptors.moveToNextClicked.call(this.interceptors.context):this.moveCalenderByMonth(1)}},{key:"moveToPrev",value:function(){this.interceptors.moveToPrevClicked?this.interceptors.moveToPrevClicked.call(this.interceptors.context):this.moveCalenderByMonth(-1)}},{key:"getMonthDateRange",value:function(e,t){var a=this.Moment([e,t-1]),n=this.Moment(a).endOf("month");return{start:a,end:n}}},{key:"isInRange",value:function(e){var t=!1,a=this.rangeStart()||null,n=this.rangeEnd()||null;return t=e.isBetween(a,n)||e.isSame(a,"day")||t||e.isSame(n,"day")}},{key:"daySelected",value:function(e){e.disabled||this.interceptors.daySelected&&this.interceptors.daySelected.call(this.interceptors.context,e.mo)}},{key:"dateInputEntered",value:function(e,t){13==e.keyCode&&(this.dateInputSelected(e,t),e.preventDefault())}},{key:"dateInputSelected",value:function(e,t){var a=this.Moment(t,this.getInputFormat(),!0);if(a.isValid()){var n=this.minDay(),i=this.maxDay();a=n&&a.isBefore(n,"day")?n:a,a=i&&a.isAfter(i,"day")?i:a,this.selectedDay()&&this.selectedDay().isSame(a,"day")||(this.interceptors.inputSelected?this.interceptors.inputSelected(a):this.daySelected({mo:a}))}}},{key:"getFormattedMonth",value:function(e){return this.Moment(e).format(this.getMonthFormat())}},{key:"getMonthFormat",value:function(){return this.monthFormat()||"MMMM YYYY"}},{key:"getInputFormat",value:function(){return this.inputFormat()||"MMM DD, YYYY"}},{key:"showLeftArrow",value:function(){return this.minMonth()?!this.minMonth().isSame(this.calendar.currentCalendar.clone().subtract(1,"M"),"M"):this.minDay()?!this.minDay().isSame(this.calendar.currentCalendar,"M"):!0}},{key:"showRightArrow",value:function(){return this.maxMonth()?!this.maxMonth().isSame(this.getMonth().clone().add(1,"M"),"M"):this.maxDay()?!this.maxDay().isSame(this.getMonth(),"M"):!0}},{key:"_showInput",value:function(){return angular.isDefined(this.showInput())?this.showInput():!0}}]),e}()},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(){"ngInject";var e={restrict:"E",scope:{weekStart:"&",range:"=?",weekDaysName:"&",format:"&",ranges:"&",minDay:"&",maxDay:"&",monthFormat:"&",inputFormat:"&",onApply:"&",linkedCalendars:"&",autoApply:"&",disabled:"&",calendarsAlwaysOn:"&",api:"=?"},controller:o,templateUrl:"app/directives/ob-date-range-picker/ob-date-range-picker.html",controllerAs:"obDateRangePicker",bindToController:!0};return e}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(d){i=!0,r=d}finally{try{!n&&o["return"]&&o["return"]()}finally{if(i)throw r}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.ObDateRangePicker=n;var o=function(){function e(t,n,i,r,o){"ngInject";var d=this;a(this,e),this.Element=n,this.Document=t,this.Scope=i,this.Moment=r,this.range=this.range||o.range||{},this.pickerApi={},this.weekStart=this.weekStart()?this.weekStart:function(){return o.weekStart},this.weekDaysName=this.weekDaysName()?this.weekDaysName:function(){return o.weekDaysName},this.format=this.format()?this.format:function(){return o.format},this.ranges=this.ranges()?this.ranges:function(){return o.ranges},this.minDay=this.minDay()?this.minDay:function(){return o.minDay},this.maxDay=this.maxDay()?this.maxDay:function(){return o.maxDay},this.monthFormat=this.monthFormat()?this.monthFormat:function(){return o.monthFormat},this.inputFormat=this.inputFormat()?this.inputFormat:function(){return o.inputFormat},this.linkedCalendars=angular.isDefined(this.linkedCalendars())?this.linkedCalendars:function(){return o.linkedCalendars},this.autoApply=angular.isDefined(this.autoApply())?this.autoApply:function(){return o.autoApply},this.disabled=angular.isDefined(this.disabled())?this.disabled:function(){return o.disabled},this.calendarsAlwaysOn=angular.isDefined(this.calendarsAlwaysOn())?this.calendarsAlwaysOn:function(){return o.calendarsAlwaysOn},this.isCustomVisible=this.calendarsAlwaysOn(),this.setOpenCloseLogic(),this.setWatchers(),this.value="Select a Range",this.api&&s(this.api,{setDateRange:this.setDateRange.bind(this),togglePicker:this.togglePicker.bind(this),render:function(){d.render(),d.pickerApi.render()}}),this.preRanges=this.ranges()||[],this.preRanges.length?this.preRanges.push({name:"Custom",isCustom:!0}):this.isCustomVisible=!0,this.render(),this.setListeners()}return e.$inject=["$document","$element","$scope","moment","dateRangePickerConf"],r(e,[{key:"render",value:function(){if(this._range={start:this.Moment(),end:this.Moment()},this.setPredefinedStatus(),this.range.start&&this.range.end&&!this.Moment.isMoment(this.range.start)&&!this.Moment.isMoment(this.range.end)&&this.format())this._range={start:this.Moment(this.range.start,this.getFormat()),end:this.Moment(this.range.end,this.getFormat())};else if(this.Moment.isMoment(this.range.start)&&this.Moment.isMoment(this.range.end))this._range={start:this.range.start,end:this.range.end};else if(this.preRanges.length>1){var e=this.preRanges[0];this._range.start=e.start,this._range.end=e.end}this._range.start.isAfter(this._range.end)?this._range.start=this._range.end.clone():this._range.end.isBefore(this._range.start)&&(this._range.end=this._range.start.clone()),this.applyMinMaxDaysToRange(),this.setRange(),this.markPredefined(this._range.start,this._range.end),this.setPickerInterceptors()}},{key:"applyMinMaxDaysToRange",value:function(){if(this.minDay()){var e=this._getMinDay();this._range.start=this._range.start.isBefore(e,"d")?e:this._range.start,this._range.end=this._range.end.isBefore(e,"d")?e:this._range.end}if(this.maxDay()){var t=this._getMaxDay();this._range.start=this._range.start.isAfter(t)?t:this._range.start,this._range.end=this._range.end.isAfter(t)?t:this._range.end}}},{key:"setPickerInterceptors",value:function(){var e=this;this.pickerInterceptors={rangeSelectedByClick:function(){e.autoApply()&&e.applyChanges()}}}},{key:"setPredefinedStatus",value:function(){var e=this;this.preRanges.forEach(function(t){if(!t.isCustom){if(t.disabled=!1,e.minDay()){var a=e._getMinDay();t.disabled=t.start.isBefore(a,"d")}if(!t.disabled&&e.maxDay()){var n=e._getMaxDay();t.disabled=t.end.isAfter(n,"d")}}})}},{key:"setWatchers",value:function(){var e=this;this.Scope.$watchGroup([function(){return e._range.start},function(){return e._range.end}],function(t){var a=i(t,2),n=a[0],r=a[1];e.selfChange||n&&r&&(e.preRanges.length&&(e.preRanges[e.preRanges.length-1].start=n,e.preRanges[e.preRanges.length-1].end=r,e.markPredefined(n,r)),e.value=e.getRangeValue()),e.selfChange=!1})}},{key:"setOpenCloseLogic",value:function(){this.isPickerVisible=!1,this.pickerPopup=angular.element(this.Element[0].querySelector(".picker")),this.elemClickFlag=!1}},{key:"setListeners",value:function(){var e=this,t={documentClick:function(){e.elemClickFlag?e.elemClickFlag=!1:(e.isPickerVisible&&e.discardChanges(),e.Scope.$apply())},documentEsc:function(t){27==t.keyCode&&e.isPickerVisible&&(e.discardChanges(),e.hidePicker(),e.Scope.$apply())},pickerClick:function(){e.elemClickFlag=!0,e.Scope.$apply()}};this.pickerPopup.on("click",t.pickerClick.bind(this)),this.Document.on("click",t.documentClick.bind(this)),this.Document.on("keydown",t.documentEsc.bind(this)),this.Scope.$on("$destroy",function(){e.pickerPopup.off("click",t.pickerClick),e.Document.off("click",t.documentClick),e.Document.off("keydown",t.documentClick)})}},{key:"togglePicker",value:function(){var e=angular.isDefined(this.disabled())?this.disabled():!1;e||this.isPickerVisible?this.isPickerVisible=!1:(this.isPickerVisible=!0,this.elemClickFlag=!0)}},{key:"hidePicker",value:function(){this.isPickerVisible=!1}},{key:"setRange",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this._range:arguments[0];this.format()?(this.range.start=e.start.format(this.getFormat()),this.range.end=e.end.format(this.getFormat())):(this.range.start=e.start,this.range.end=e.end)}},{key:"predefinedRangeSelected",value:function(e,t){e.disabled||(e.isCustom?this.isCustomVisible=!0:(this.selfChange=!0,this.selectedRengeIndex=t,this.value=e.name,this._range.start=e.start,this._range.end=e.end,this.isCustomVisible=this.calendarsAlwaysOn()||!1,this.applyChanges()))}},{key:"getFormat",value:function(){return this.format()||"MM-DD-YYYY"}},{key:"discardChanges",value:function(){var e=this.getFormat(),t=this.Moment(this.range.start,e),a=this.Moment(this.range.end,e);this._range.start=t,this._range.end=a,this.value=this.getRangeValue(),this.pickerApi.setCalendarPosition(t,a),this.hidePicker()}},{key:"markPredefined",value:function(e,t){this.selectedRengeIndex=this.preRanges.findIndex(function(a){return e.isSame(a.start,"day")&&t.isSame(a.end,"day")})}},{key:"getRangeValue",value:function(){var e=this,t=void 0,a=this.getInputFormat();if(this.preRanges.length){var n=this.preRanges.findIndex(function(t){return e._range.start.isSame(t.start,"day")&&e._range.end.isSame(t.end,"day")});-1!==n&&(t=this.preRanges[n].isCustom?this.preRanges[n].start.format(a)+" - "+this.preRanges[n].end.format(a):this.preRanges[n].name)}else t=this._range.start.format(a)+" - "+this._range.end.format(a);return t}},{key:"applyChanges",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];this.setRange(),this.hidePicker(),this.pickerApi.setCalendarPosition(this._range.start,this._range.end),e&&this.onApply&&this.onApply({start:this._range.start,end:this._range.end})}},{key:"getInputFormat",value:function(){return this.inputFormat()||"MMM DD, YYYY"}},{key:"setDateRange",value:function(e){this._range.start=e.start,this._range.end=e.end,this.applyChanges(!1)}},{key:"_getMinDay",value:function(){return this.minDay()?this.Moment(this.minDay(),this.getFormat()):void 0}},{key:"_getMaxDay",value:function(){return this.maxDay()?this.Moment(this.maxDay(),this.getFormat()):void 0}}]),e}()},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(){"ngInject";var e={restrict:"E",scope:{weekStart:"&",selectedDay:"=?",weekDaysName:"&",format:"&",minDay:"&",maxDay:"&",monthFormat:"&",inputFormat:"&",onApply:"&",disabled:"&",formName:"@name",isValidDateEnabled:"&validDay",autoApply:"&",api:"=?"},controller:s,templateUrl:"app/directives/ob-day-picker/ob-day-picker.html",controllerAs:"dayPicker",bindToController:!0};return e}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.ObDayPicker=n;var s=function(){function e(t,n,i,s,o,d){"ngInject";var c=this;a(this,e),this.Element=n,this.Document=t,this.Scope=i,this.$timeout=s,this.Moment=o,this.weekStart=this.weekStart()?this.weekStart:function(){return d.weekStart},this.weekDaysName=this.weekDaysName()?this.weekDaysName:function(){return d.weekDaysName},this.format=this.format()?this.format:function(){return d.format},this.minDay=this.minDay()?this.minDay:function(){return d.minDay},this.maxDay=this.maxDay()?this.maxDay:function(){return d.maxDay},this.monthFormat=this.monthFormat()?this.monthFormat:function(){return d.monthFormat},this.inputFormat=this.inputFormat()?this.inputFormat:function(){return d.inputFormat},this.autoApply=angular.isDefined(this.autoApply())?this.autoApply:function(){return d.autoApply},this.disabled=angular.isDefined(this.disabled())?this.disabled:function(){return d.disabled},this.isValidDateEnabled=angular.isDefined(this.isValidDateEnabled())?this.isValidDateEnabled:function(){return d.isValidDateEnabled},this.formName=this.formName||"dayPickerInput",this.setOpenCloseLogic(),this._selectedDay=this.getSelectedDay(),this.value=this.Moment(this._selectedDay).format(this.getFormat()),this.setCalendarInterceptors(),this.calendarApi={},this.api&&r(this.api,{render:function(){c.render()}}),this.setListeners(),this.dayValidity=this.checkIfDayIsValid(this._selectedDay),this.$timeout(function(){c.applyValidity(c.dayValidity)})}return e.$inject=["$document","$element","$scope","$timeout","moment","datePickerConf"],i(e,[{key:"render",value:function(){this.dayValidity=this.checkIfDayIsValid(this._selectedDay),this.applyValidity(this.dayValidity),this.calendarApi.render&&this.calendarApi.render()}},{key:"setOpenCloseLogic",value:function(){this.isPickerVisible=!1,this.pickerPopup=angular.element(this.Element[0].querySelector(".picker")),this.elemClickFlag=!1}},{key:"setCalendarInterceptors",value:function(){this.calendarInterceptors={daySelected:this.daySelected.bind(this)}}},{key:"setListeners",value:function(){var e=this,t={documentClick:function(){e.elemClickFlag?e.elemClickFlag=!1:(e.onBlur(),e.Scope.$digest())},pickerClick:function(){e.elemClickFlag=!0,e.Scope.$digest()}};this.pickerPopup.on("click",t.pickerClick.bind(this)),this.Document.on("click",t.documentClick.bind(this)),this.Scope.$on("$destroy",function(){e.pickerPopup.off("click",t.pickerClick),e.Document.off("click",t.documentClick)}),this.Scope.$watchGroup([function(){return e.Moment(e.minDay(),e.getFormat()).format()},function(){return e.Moment(e.maxDay(),e.getFormat()).format()}],function(t,a){(t&&t[0]||a&&a[0])&&e.render()})}},{key:"showPicker",value:function(){var e=angular.isDefined(this.disabled())?this.disabled():!1;e||this.isPickerVisible||(this.isPickerVisible=!0),this.elemClickFlag=!0}},{key:"hidePicker",value:function(){this.isPickerVisible=!1}},{key:"daySelected",value:function(e){var t=this,a=arguments.length<=1||void 0===arguments[1]?100:arguments[1];this.applyValidity(this.checkIfDayIsValid(e)),e.isSame(this._selectedDay,"day")?this.hidePicker():(this.calendarApi.render(),this.value=this.Moment(e).format(this.getFormat()),this._selectedDay=e,this.$timeout(function(){t.hidePicker(),t.updateSelectedDate(e)},a))}},{key:"dateInputEntered",value:function(e,t){var a=this.checkIfDayIsValid(t);switch(e.keyCode){case 9:case 13:var n=this.getInputValue();a?this.daySelected(n,0):(this.hidePicker(),13===e.keyCode&&e.preventDefault());break;case 40:this.isPickerVisible=!0;break;case 27:this.isPickerVisible=!1,this.value=this._selectedDay.format(this.getFormat())}}},{key:"getInputValue",value:function(){return this.Moment(this.value,this.getFormat(),!0)}},{key:"onBlur",value:function(){var e=this.getInputValue(),t=this.checkIfDayIsValid(e);t?this.daySelected(e):this.hidePicker()}},{key:"updateValidity",value:function(){var e=this.getInputValue(),t=this.checkIfDayIsValid(e);this.applyValidity(t),t&&this.autoApply()&&!e.isSame(this._selectedDay,"day")&&(this._selectedDay=e,this.updateSelectedDate(e))}},{key:"checkIfDayIsValid",value:function(e){var t=this.Moment(e,this.getFormat(),!0),a=this._getMinDay(),n=this._getMaxDay(),i=t.isValid();return i&&a&&(i=t.isAfter(a,"day")||t.isSame(a,"day")),i&&n&&(i=t.isBefore(n,"day")||t.isSame(n,"day")),i}},{key:"applyValidity",value:function(e){this.Scope[this.formName]&&(this.disabled&&this.disabled()?(this.Scope[this.formName].$setValidity("validDay",!0),this.dayValidity=!0):this.isValidDateEnabled()&&this.Scope[this.formName]&&(this.Scope[this.formName].$setValidity("validDay",e),this.dayValidity=e))}},{key:"updateSelectedDate",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this._selectedDay:arguments[0];this.format()?this.selectedDay=e.format(this.getFormat()):this.selectedDay=e,this.onApply({day:this.selectedDay})}},{key:"getSelectedDay",value:function(){return this.Moment(this.selectedDay||this.Moment(),this.getFormat())}},{key:"getFormat",value:function(){return this.format()||"MMM DD, YYYY"}},{key:"_getMinDay",value:function(){return this.minDay()?this.Moment(this.minDay(),this.getFormat()):void 0}},{key:"_getMaxDay",value:function(){return this.maxDay()?this.Moment(this.maxDay(),this.getFormat()):void 0}}]),e}()},function(e,t){"use strict";Array.prototype.findIndex||(Array.prototype.findIndex=function(e){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,a=Object(this),n=a.length>>>0,i=arguments[1],r=0;n>r;r++)if(t=a[r],e.call(i,t,r,a))return r;return-1})}]),angular.module("obDateRangePicker").run(["$templateCache",function(e){e.put("app/directives/calendar/calendar.html",'<div class="input-container" ng-if="month._showInput()"><label>{{month.Attrs.label}}</label> <input type="text" ng-model="month.value" ng-keypress="month.dateInputEntered($event, month.value)" ng-blur="month.dateInputSelected($event, month.value)"></div><div class="header"><span class="arrow-btn left" ng-if="month.showLeftArrow()" ng-click="month.moveToPrev()"></span> <span class="date">{{month.getFormattedMonth(month.calendar.currentCalendar)}}</span> <span class="arrow-btn right" ng-if="month.showRightArrow()" ng-click="month.moveToNext(1)"></span></div><div class="board"><div class="days-of-week"><span class="day-name" ng-repeat="day in month.daysName track by $index">{{day}}</span></div><div class="weeks"><div ng-repeat="week in month.calendar.monthWeeks track by $index"><span class="day" ng-repeat="day in week track by $index" ng-class="{ \'selected\': day.selected, \'current\': day.currentDay, \'other-month\': !day.currentMonth, \'in-range\': day.inRange, \'range-start\': day.rangeStart, \'range-end\': day.rangeEnd, \'disabled\': day.disabled }" ng-click="month.daySelected(day)">{{day.mo.format(\'D\')}}</span></div></div></div>'),e.put("app/directives/date-range-picker/date-range-picker.html",'<calendar class="calendar" api="picker.startCalendarApi" min-day="picker.minDay()" max-day="picker.maxDay()" week-start="picker.weekStart()" month="picker.startCalendar" interceptors="picker.startCalendarInterceptors" range-start="picker.rangeStart" range-end="picker.rangeEnd" selected-day="picker.rangeStart" max-month="picker.endCalendar" week-days-name="picker.weekDaysName()" month-format="picker.monthFormat()" input-format="picker.inputFormat()" label="Start Date"></calendar><calendar class="calendar" api="picker.endCalendarApi" min-day="picker.minDay()" max-day="picker.maxDay()" week-start="picker.weekStart()" month="picker.endCalendar" interceptors="picker.endCalendarInterceptors" range-start="picker.rangeStart" range-end="picker.rangeEnd" selected-day="picker.rangeEnd" min-month="picker.startCalendar" week-days-name="picker.weekDaysName()" month-format="picker.monthFormat()" input-format="picker.inputFormat()" label="End Date"></calendar>'),e.put("app/directives/ob-day-picker/ob-day-picker.html",'<div ng-form="{{::dayPicker.formName}}" class="picker-dropdown-container" ng-class="{\'open\': dayPicker.isPickerVisible, \'disabled\': dayPicker.disabled(), \'invalid\': !dayPicker.dayValidity}"><input class="picker-input" ng-model="dayPicker.value" ng-change="dayPicker.updateValidity()" ng-keydown="dayPicker.dateInputEntered($event, dayPicker.value)" ng-click="dayPicker.showPicker()" ng-disabled="dayPicker.disabled()"><div class="picker" ng-show="dayPicker.isPickerVisible"><calendar class="calendar" api="dayPicker.calendarApi" min-day="dayPicker._getMinDay()" max-day="dayPicker._getMaxDay()" week-start="dayPicker.weekStart()" month="dayPicker._selectedDay" interceptors="dayPicker.calendarInterceptors" selected-day="dayPicker._selectedDay" min-month="dayPicker.startCalendar" week-days-name="dayPicker.weekDaysName()" month-format="dayPicker.monthFormat()" show-input="false"></calendar></div></div>'),e.put("app/directives/ob-date-range-picker/ob-date-range-picker.html",'<div class="picker-dropdown-container" ng-class="{\'disabled\': obDateRangePicker.disabled()}"><div class="picker-dropdown" ng-class="{\'open\': obDateRangePicker.isPickerVisible}" ng-click="obDateRangePicker.togglePicker()"><span>{{obDateRangePicker.value}}</span></div><div class="picker" ng-class="{\'open\': obDateRangePicker.isPickerVisible}" ng-show="obDateRangePicker.isPickerVisible"><div class="date-range" ng-show="obDateRangePicker.isCustomVisible"><date-range-picker ng-if="obDateRangePicker.isPickerVisible" api="obDateRangePicker.pickerApi" interceptors="obDateRangePicker.pickerInterceptors" linked-calendars="obDateRangePicker.linkedCalendars()" week-start="obDateRangePicker.weekStart()" range="obDateRangePicker._range" week-days-name="obDateRangePicker.weekDaysName()" min-day="obDateRangePicker._getMinDay()" max-day="obDateRangePicker._getMaxDay()" month-format="obDateRangePicker.monthFormat()" input-format="obDateRangePicker.inputFormat()"></date-range-picker></div><div class="ranges-actions" ng-class="{\'custom-open\': obDateRangePicker.isCustomVisible}"><div class="ranges"><div class="range" ng-repeat="range in obDateRangePicker.preRanges track by $index" ng-class="{\'selected\': obDateRangePicker.selectedRengeIndex === $index, \'disabled\': range.disabled}" ng-click="obDateRangePicker.predefinedRangeSelected(range, $index)" ng-if="!$last || ($last && !obDateRangePicker.calendarsAlwaysOn())">{{range.name}}</div></div><div class="actions" ng-if="!obDateRangePicker.autoApply()"><div class="drp_btn cancel" ng-click="obDateRangePicker.discardChanges()">Cancel</div><div class="drp_btn apply" ng-click="obDateRangePicker.applyChanges()">APPLY</div></div></div></div></div>');
}]);
//# sourceMappingURL=../maps/scripts/ob-daterangepicker.js.map

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGUtcGlja2VyL2RhdGUtcGlja2VyLm1vZHVsZS5qcyIsImRhdGUtcGlja2VyL2RhdGUtcGlja2VyLmNvbXBvbmVudC5qcyIsImRhdGUtcGlja2VyL2RhdGUtcGlja2VyLmNvbnRyb2xsZXIuanMiLCJ0ZW1wbGF0ZXMubWluLmpzIiwib2ItZGF0ZXJhbmdlcGlja2VyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNoQ0E7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZGF0ZS1waWNrZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgnZGF0ZVBpY2tlcicsIFsnb2JEYXRlUmFuZ2VQaWNrZXInLCAnZGF0ZVBpY2tlclRlbXBsYXRlcyddKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdkYXRlUGlja2VyJylcbiAgICAuY29tcG9uZW50KCdkYXRlUGlja2VyJywge1xuICAgICAgICBiaW5kaW5nczoge1xuICAgICAgICAgICAgZm9ybWF0OiAnPCcsXG4gICAgICAgICAgICBpbmNsdWRlSW5wdXRzOiAnPCcsXG4gICAgICAgICAgICBpc1JhbmdlOiAnPCcsXG4gICAgICAgICAgICBtaW5EYXRlOiAnPCcsXG4gICAgICAgICAgICBtYXhEYXRlOiAnPCcsXG4gICAgICAgICAgICBuYW1lOiAnQCcsXG4gICAgICAgICAgICBzZWxlY3RlZERhdGU6ICc9JyxcbiAgICAgICAgICAgIHN0YXJ0RGF0ZTogJz0nLFxuICAgICAgICAgICAgZW5kRGF0ZTogJz0nLFxuICAgICAgICAgICAgZGlzYWJsZWQ6ICc8JyxcbiAgICAgICAgICAgIGFwcGx5Q2FsbGJhY2s6ICcmJ1xuICAgICAgICB9LFxuICAgICAgICBjb250cm9sbGVyOiAnRGF0ZVBpY2tlckNvbnRyb2xsZXInLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2RhdGUtcGlja2VyL2RhdGUtcGlja2VyLmh0bWwnXG4gICAgfSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnZGF0ZVBpY2tlcicpXG4gICAgLmNvbnRyb2xsZXIoJ0RhdGVQaWNrZXJDb250cm9sbGVyJywgRGF0ZVBpY2tlckNvbnRyb2xsZXIpO1xuXG5EYXRlUGlja2VyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckdGltZW91dCddO1xuXG5mdW5jdGlvbiBEYXRlUGlja2VyQ29udHJvbGxlcigkdGltZW91dCkge1xuXG4gICAgdmFyIGN0cmwgPSB0aGlzO1xuXG4gICAgY3RybC4kb25Jbml0ID0gJG9uSW5pdDtcbiAgICBjdHJsLmFwcGx5UmFuZ2UgPSBhcHBseVJhbmdlO1xuXG4gICAgZnVuY3Rpb24gJG9uSW5pdCgpIHtcblxuICAgICAgICBpZiAoY3RybC5pc1JhbmdlKSB7XG4gICAgICAgICAgICBjdHJsLnR5cGUgPSAncmFuZ2UnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3RybC50eXBlID0gJ3NpbmdsZSc7XG4gICAgICAgIH1cblxuICAgICAgICBjdHJsLnJhbmdlID0ge1xuICAgICAgICAgICAgc3RhcnQ6IGN0cmwuc3RhcnREYXRlLFxuICAgICAgICAgICAgZW5kOiBjdHJsLmVuZERhdGVcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcHBseVJhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgY3RybC5zdGFydERhdGUgPSBtb21lbnQoc3RhcnQpLmZvcm1hdChjdHJsLmZvcm1hdCk7XG4gICAgICAgIGN0cmwuZW5kRGF0ZSA9IG1vbWVudChlbmQpLmZvcm1hdChjdHJsLmZvcm1hdCk7XG4gICAgICAgICR0aW1lb3V0KGN0cmwuYXBwbHlDYWxsYmFjaywgMSk7XG4gICAgfVxufVxuIiwiIWZ1bmN0aW9uKGEpe3RyeXthPWFuZ3VsYXIubW9kdWxlKFwiZGF0ZVBpY2tlclRlbXBsYXRlc1wiKX1jYXRjaChlKXthPWFuZ3VsYXIubW9kdWxlKFwiZGF0ZVBpY2tlclRlbXBsYXRlc1wiLFtdKX1hLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLGZ1bmN0aW9uKGEpe2EucHV0KFwiZGF0ZS1waWNrZXIvZGF0ZS1waWNrZXIuaHRtbFwiLCc8b2ItZGF0ZXJhbmdlcGlja2VyIG5nLWlmPVwiJGN0cmwudHlwZT09PVxcJ3JhbmdlXFwnXCIgcmFuZ2U9XCIkY3RybC5yYW5nZVwiIGxpbmtlZC1jYWxlbmRhcnM9XCJmYWxzZVwiIGF1dG8tYXBwbHk9XCJmYWxzZVwiIGZvcm1hdD1cIiRjdHJsLmZvcm1hdFwiXFxuXFx0aW5wdXQtZm9ybWF0PVwiJGN0cmwuZm9ybWF0XCIgbWluLWRheT1cIiRjdHJsLm1pbkRhdGVcIiBtYXgtZGF5PVwiJGN0cmwubWF4RGF0ZVwiIGNsYXNzPVwiZGF0ZS1yYW5nZS1waWNrZXIgcmlnaHRcIiBuZy1jbGFzcz1cIntcXCdzaG93LWlucHV0c1xcJzogJGN0cmwuaW5jbHVkZUlucHV0c31cIlxcblxcdG9uLWFwcGx5PVwiJGN0cmwuYXBwbHlSYW5nZShzdGFydCwgZW5kKVwiIGRpc2FibGVkPVwiJGN0cmwuZGlzYWJsZWRcIj5cXG48L29iLWRhdGVyYW5nZXBpY2tlcj5cXG5cXG48b2ItZGF5cGlja2VyIG5nLWlmPVwiJGN0cmwudHlwZT09PVxcJ3NpbmdsZVxcJ1wiIHNlbGVjdGVkLWRheT1cIiRjdHJsLnNlbGVjdGVkRGF0ZVwiIGZvcm1hdD1cIiRjdHJsLmZvcm1hdFwiIG1pbi1kYXk9XCIkY3RybC5taW5EYXRlXCJcXG5cXHRtYXgtZGF5PVwiJGN0cmwubWF4RGF0ZVwiIGNsYXNzPVwiZGF0ZS1waWNrZXJcIiB2YWxpZC1kYXk9XCJ0cnVlXCIgbmFtZT1cInt7JGN0cmwubmFtZX19XCIgZGlzYWJsZWQ9XCIkY3RybC5kaXNhYmxlZFwiPlxcbjwvb2ItZGF5cGlja2VyPicpfV0pfSgpOyIsIi8qKioqKiovIWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQobil7aWYoYVtuXSlyZXR1cm4gYVtuXS5leHBvcnRzO3ZhciBpPWFbbl09e2V4cG9ydHM6e30saWQ6bixsb2FkZWQ6ITF9O3JldHVybiBlW25dLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLHQpLGkubG9hZGVkPSEwLGkuZXhwb3J0c30vLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqL1xudmFyIGE9e307cmV0dXJuIHQubT1lLHQuYz1hLHQucD1cIlwiLHQoMCl9KFtmdW5jdGlvbihlLHQsYSl7YSgxKSxlLmV4cG9ydHM9YSg4KX0sZnVuY3Rpb24oZSx0LGEpe1widXNlIHN0cmljdFwiO3ZhciBuPWEoMiksaT1hKDMpLHI9YSg0KSxzPWEoNSksbz1hKDYpLGQ9YSg3KTthbmd1bGFyLm1vZHVsZShcIm9iRGF0ZVJhbmdlUGlja2VyXCIsW10pLmNvbnN0YW50KFwibW9tZW50XCIsbW9tZW50KS5wcm92aWRlcihcImRhdGVSYW5nZVBpY2tlckNvbmZcIixuLkRhdGVSYW5nZVBpY2tlclByb3ZpZGVyKS5wcm92aWRlcihcImRhdGVQaWNrZXJDb25mXCIsaS5EYXRlUGlja2VyUHJvdmlkZXIpLmRpcmVjdGl2ZShcImRhdGVSYW5nZVBpY2tlclwiLHIuRGF0ZVJhbmdlUGlja2VyKS5kaXJlY3RpdmUoXCJvYkRhdGVyYW5nZXBpY2tlclwiLG8uT2JEYXRlUmFuZ2VQaWNrZXIpLmRpcmVjdGl2ZShcImNhbGVuZGFyXCIscy5DYWxlbmRhcikuZGlyZWN0aXZlKFwib2JEYXlwaWNrZXJcIixkLk9iRGF5UGlja2VyKX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKCl7dmFyIGU9e307cmV0dXJue3NldENvbmZpZzpmdW5jdGlvbih0KXtlPXR9LCRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZX19fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuRGF0ZVJhbmdlUGlja2VyUHJvdmlkZXI9YX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKCl7dmFyIGU9e307cmV0dXJue3NldENvbmZpZzpmdW5jdGlvbih0KXtlPXR9LCRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZX19fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuRGF0ZVBpY2tlclByb3ZpZGVyPWF9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gbigpe1wibmdJbmplY3RcIjt2YXIgZT17cmVzdHJpY3Q6XCJFXCIsc2NvcGU6e3dlZWtTdGFydDpcIiZcIixyYW5nZTpcIj0/XCIsbWluRGF5OlwiJlwiLG1heERheTpcIiZcIixhcGk6XCImXCIsbW9udGhGb3JtYXQ6XCImXCIsaW5wdXRGb3JtYXQ6XCImXCIsd2Vla0RheXNOYW1lOlwiJlwiLGxpbmtlZENhbGVuZGFyczpcIiZcIixpbnRlcmNlcHRvcnM6XCImXCJ9LHRlbXBsYXRlVXJsOlwiYXBwL2RpcmVjdGl2ZXMvZGF0ZS1yYW5nZS1waWNrZXIvZGF0ZS1yYW5nZS1waWNrZXIuaHRtbFwiLGNvbnRyb2xsZXI6cyxjb250cm9sbGVyQXM6XCJwaWNrZXJcIixiaW5kVG9Db250cm9sbGVyOiEwfTtyZXR1cm4gZX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIG49dFthXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LGEsbil7cmV0dXJuIGEmJmUodC5wcm90b3R5cGUsYSksbiYmZSh0LG4pLHR9fSgpLHI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGE9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiBhKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLG4pJiYoZVtuXT1hW25dKX1yZXR1cm4gZX07dC5EYXRlUmFuZ2VQaWNrZXI9bjt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuKXtcIm5nSW5qZWN0XCI7YSh0aGlzLGUpLHRoaXMuTW9tZW50PXQsdGhpcy5TY29wZT1uLHRoaXMucmFuZ2U9dGhpcy5yYW5nZXx8e30sdGhpcy5zZXRDb25maWd1cmF0aW9ucygpLHRoaXMuc3RhcnRDYWxlbmRhckFwaT17fSx0aGlzLmVuZENhbGVuZGFyQXBpPXt9LHRoaXMuc2V0SW50ZXJjZXB0b3JzKCksdGhpcy5zZXRMaXN0ZW5lcnMoKSx0aGlzLnNldEFwaSgpLHRoaXMud2F0Y2hSYW5nZUNoYW5nZSgpLHRoaXMuaW50ZXJjZXB0b3JzPXRoaXMuaW50ZXJjZXB0b3JzKCl8fHt9fXJldHVybiBlLiRpbmplY3Q9W1wibW9tZW50XCIsXCIkc2NvcGVcIl0saShlLFt7a2V5Olwic2V0QXBpXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5hcGkoKXx8e307cih0LHtzZXRDYWxlbmRhclBvc2l0aW9uOmZ1bmN0aW9uKHQsYSl7ZS5zdGFydENhbGVuZGFyPXQsZS5saW5rZWRDYWxlbmRhcnMoKXx8dC5pc1NhbWUoYSxcIk1cIik/ZS5lbmRDYWxlbmRhcj1lLnN0YXJ0Q2FsZW5kYXIuY2xvbmUoKS5hZGQoMSxcIk1cIik6ZS5lbmRDYWxlbmRhcj1hfSxyZW5kZXI6ZnVuY3Rpb24oKXtlLnN0YXJ0Q2FsZW5kYXJBcGkucmVuZGVyKCksZS5lbmRDYWxlbmRhckFwaS5yZW5kZXIoKX19KX19LHtrZXk6XCJzZXRMaXN0ZW5lcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5TY29wZS4kd2F0Y2hHcm91cChbZnVuY3Rpb24oKXtyZXR1cm4gZS5yYW5nZS5zdGFydH0sZnVuY3Rpb24oKXtyZXR1cm4gZS5yYW5nZS5lbmR9XSxmdW5jdGlvbih0KXt0WzBdJiZ0WzFdJiZlLnNldENvbmZpZ3VyYXRpb25zKCl9KX19LHtrZXk6XCJzZXRDb25maWd1cmF0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwLHQ9dm9pZCAwO3RoaXMuaXNNb21lbnRSYW5nZSh0aGlzLnJhbmdlKT8oZT10aGlzLnJhbmdlLnN0YXJ0LHQ9dGhpcy5yYW5nZS5lbmQpOihlPXRoaXMuTW9tZW50KHRoaXMucmFuZ2Uuc3RhcnQsdGhpcy5nZXRGb3JtYXQoKSksdD10aGlzLk1vbWVudCh0aGlzLnJhbmdlLmVuZCx0aGlzLmdldEZvcm1hdCgpKSksdD10LmRpZmYoZSk+PTA/dDplLmNsb25lKCksdGhpcy5yYW5nZVN0YXJ0PWUsdGhpcy5yYW5nZUVuZD10LHRoaXMuZGF5c1NlbGVjdGVkPTIsdGhpcy51cGRhdGVSYW5nZSgpfX0se2tleTpcInVwZGF0ZVJhbmdlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmlzTW9tZW50UmFuZ2UodGhpcy5yYW5nZSk/KHRoaXMucmFuZ2Uuc3RhcnQ9dGhpcy5yYW5nZVN0YXJ0LHRoaXMucmFuZ2UuZW5kPXRoaXMucmFuZ2VFbmQpOih0aGlzLnJhbmdlLnN0YXJ0PXRoaXMucmFuZ2VTdGFydD90aGlzLnJhbmdlU3RhcnQuZm9ybWF0KHRoaXMuZ2V0Rm9ybWF0KCkpOm51bGwsdGhpcy5yYW5nZS5lbmQ9dGhpcy5yYW5nZUVuZD90aGlzLnJhbmdlRW5kLmZvcm1hdCh0aGlzLmdldEZvcm1hdCgpKTpudWxsKX19LHtrZXk6XCJzZXRJbnRlcmNlcHRvcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5zdGFydENhbGVuZGFySW50ZXJjZXB0b3JzPXttb3ZlVG9QcmV2Q2xpY2tlZDpmdW5jdGlvbigpe2UubW92ZUNhbGVuZGVycygtMSxcInN0YXJ0XCIpfSxtb3ZlVG9OZXh0Q2xpY2tlZDpmdW5jdGlvbigpe2UubW92ZUNhbGVuZGVycygxLFwic3RhcnRcIil9LGRheVNlbGVjdGVkOmZ1bmN0aW9uKHQpe2UuZGF5SW5TdGFydFNlbGVjdGVkKHQpLGUuZGF5U2VsZWN0ZWQodCksMj09ZS5kYXlzU2VsZWN0ZWQmJmUuaW50ZXJjZXB0b3JzLnJhbmdlU2VsZWN0ZWRCeUNsaWNrJiZlLmludGVyY2VwdG9ycy5yYW5nZVNlbGVjdGVkQnlDbGljaygpfSxpbnB1dFNlbGVjdGVkOmZ1bmN0aW9uKHQpe2UuaW5wdXRJblN0YXJ0U2VsZWN0ZWQodCl9fSx0aGlzLmVuZENhbGVuZGFySW50ZXJjZXB0b3JzPXttb3ZlVG9QcmV2Q2xpY2tlZDpmdW5jdGlvbigpe2UubW92ZUNhbGVuZGVycygtMSxcImVuZFwiKX0sbW92ZVRvTmV4dENsaWNrZWQ6ZnVuY3Rpb24oKXtlLm1vdmVDYWxlbmRlcnMoMSxcImVuZFwiKX0sZGF5U2VsZWN0ZWQ6ZnVuY3Rpb24odCl7ZS5kYXlJbkVuZFNlbGVjdGVkKHQpLGUuZGF5U2VsZWN0ZWQodCksMj09ZS5kYXlzU2VsZWN0ZWQmJmUuaW50ZXJjZXB0b3JzLnJhbmdlU2VsZWN0ZWRCeUNsaWNrJiZlLmludGVyY2VwdG9ycy5yYW5nZVNlbGVjdGVkQnlDbGljaygpfSxpbnB1dFNlbGVjdGVkOmZ1bmN0aW9uKHQpe2UuaW5wdXRJbkVuZFNlbGVjdGVkKHQpfX19fSx7a2V5OlwiaW5wdXRJblN0YXJ0U2VsZWN0ZWRcIix2YWx1ZTpmdW5jdGlvbihlKXtzd2l0Y2godGhpcy5kYXlzU2VsZWN0ZWQpe2Nhc2UgMDpjYXNlIDE6dGhpcy5yYW5nZVN0YXJ0PWUsdGhpcy5kYXlzU2VsZWN0ZWQ9MTticmVhaztjYXNlIDI6ZS5kaWZmKHRoaXMucmFuZ2VTdGFydCxcImRheXNcIik8MD90aGlzLnJhbmdlU3RhcnQ9ZTplLmlzQmV0d2Vlbih0aGlzLnJhbmdlU3RhcnQsdGhpcy5yYW5nZUVuZCk/dGhpcy5yYW5nZVN0YXJ0PWU6ZS5kaWZmKHRoaXMucmFuZ2VFbmQsXCJkYXlzXCIpPj0wJiYodGhpcy5yYW5nZVN0YXJ0PWUsdGhpcy5yYW5nZUVuZD1lKSx0aGlzLmRheXNTZWxlY3RlZD0yLHRoaXMudXBkYXRlUmFuZ2UoKX19fSx7a2V5OlwiaW5wdXRJbkVuZFNlbGVjdGVkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7c3dpdGNoKHRoaXMuZGF5c1NlbGVjdGVkKXtjYXNlIDA6dGhpcy5yYW5nZVN0YXJ0PWUsdGhpcy5kYXlzU2VsZWN0ZWQ9MTticmVhaztjYXNlIDE6Y2FzZSAyOmUuZGlmZih0aGlzLnJhbmdlU3RhcnQsXCJkYXlzXCIpPD0wPyh0aGlzLnJhbmdlU3RhcnQ9ZSx0aGlzLnJhbmdlRW5kPWUpOmUuaXNTYW1lKHRoaXMuc3RhcnRDYWxlbmRhcixcIm1vbnRoc1wiKXx8ZS5pc1NhbWUodGhpcy5lbmRDYWxlbmRhcixcIm1vbnRoc1wiKT90aGlzLnJhbmdlRW5kPWU6ZS5pc1NhbWUodGhpcy5lbmRDYWxlbmRhcixcIm1vbnRoc1wiKXx8KHRoaXMucmFuZ2VFbmQ9ZSksdGhpcy5kYXlzU2VsZWN0ZWQ9Mix0aGlzLnVwZGF0ZVJhbmdlKCl9fX0se2tleTpcImRheUluU3RhcnRTZWxlY3RlZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc3RhcnRDYWxlbmRhci5jbG9uZSgpLmFkZCgxLFwiTVwiKTtlLmlzU2FtZSh0LFwibW9udGhcIikmJnRoaXMuZGF5SW5FbmRTZWxlY3RlZChlKX19LHtrZXk6XCJkYXlJbkVuZFNlbGVjdGVkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5lbmRDYWxlbmRhci5jbG9uZSgpLnN1YnRyYWN0KDEsXCJNXCIpO2UuaXNTYW1lKHQsXCJtb250aFwiKSYmdGhpcy5kYXlJblN0YXJ0U2VsZWN0ZWQoZSl9fSx7a2V5OlwiZGF5U2VsZWN0ZWRcIix2YWx1ZTpmdW5jdGlvbihlKXtzd2l0Y2godGhpcy5kYXlzU2VsZWN0ZWQpe2Nhc2UgMDp0aGlzLnJhbmdlU3RhcnQ9ZSx0aGlzLmRheXNTZWxlY3RlZD0xO2JyZWFrO2Nhc2UgMTplLmRpZmYodGhpcy5yYW5nZVN0YXJ0LFwiZGF5c1wiKTwwP3RoaXMucmFuZ2VTdGFydD1lOih0aGlzLnJhbmdlRW5kPWUsdGhpcy5kYXlzU2VsZWN0ZWQ9Mix0aGlzLnVwZGF0ZVJhbmdlKCkpO2JyZWFrO2Nhc2UgMjp0aGlzLmRheXNTZWxlY3RlZD0xLHRoaXMucmFuZ2VTdGFydD1lLHRoaXMucmFuZ2VFbmQ9bnVsbH19fSx7a2V5OlwibW92ZUNhbGVuZGVyc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5hcmVDYWxlbmRhcnNMaW5rZWQoKT8odGhpcy5zdGFydENhbGVuZGFyPXRoaXMuc3RhcnRDYWxlbmRhci5jbG9uZSgpLmFkZChlLFwiTVwiKSx0aGlzLmVuZENhbGVuZGFyPXRoaXMuZW5kQ2FsZW5kYXIuY2xvbmUoKS5hZGQoZSxcIk1cIikpOlwic3RhcnRcIj09PXQ/dGhpcy5zdGFydENhbGVuZGFyPXRoaXMuc3RhcnRDYWxlbmRhci5jbG9uZSgpLmFkZChlLFwiTVwiKTp0aGlzLmVuZENhbGVuZGFyPXRoaXMuZW5kQ2FsZW5kYXIuY2xvbmUoKS5hZGQoZSxcIk1cIil9fSx7a2V5OlwiaXNNb21lbnRSYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PSExO3JldHVybiBlJiZlLnN0YXJ0JiZlLmVuZCYmKHQ9dGhpcy5Nb21lbnQuaXNNb21lbnQodGhpcy5yYW5nZS5zdGFydCkmJnRoaXMuTW9tZW50LmlzTW9tZW50KHRoaXMucmFuZ2UuZW5kKSksdH19LHtrZXk6XCJ3YXRjaFJhbmdlQ2hhbmdlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuU2NvcGUuJHdhdGNoR3JvdXAoW2Z1bmN0aW9uKCl7cmV0dXJuIGUucmFuZ2VTdGFydH0sZnVuY3Rpb24oKXtyZXR1cm4gZS5yYW5nZUVuZH1dLGZ1bmN0aW9uKHQsYSl7dmFyIG49dFswXSxpPXRbMV0scj1hWzBdLHM9YVsxXTtlLm1heERheSgpJiZuLmlzU2FtZShlLm1heERheSgpLFwiTVwiKSYmKG49bi5jbG9uZSgpLnN1YnRyYWN0KDEsXCJNXCIpKSxlLnN0YXJ0Q2FsZW5kYXJ8fGUuZW5kQ2FsZW5kYXJ8fChlLnN0YXJ0Q2FsZW5kYXI9bixlLmVuZENhbGVuZGFyPW4uY2xvbmUoKS5hZGQoMSxcIk1cIikpLGUuYXJlQ2FsZW5kYXJzTGlua2VkKCk/bi5pc1NhbWUoZS5zdGFydENhbGVuZGFyLFwiTVwiKXx8bi5pc1NhbWUoZS5lbmRDYWxlbmRhcixcIk1cIik/aSYmaS5pc0FmdGVyKGUuZW5kQ2FsZW5kYXIsXCJNXCIpPyhlLnN0YXJ0Q2FsZW5kYXI9aSxlLmVuZENhbGVuZGFyPWkuY2xvbmUoKS5hZGQoMSxcIk1cIikpOm4uaXNTYW1lKGUuZW5kQ2FsZW5kYXIsXCJNXCIpfHwoZS5zdGFydENhbGVuZGFyPW4sZS5lbmRDYWxlbmRhcj1uLmNsb25lKCkuYWRkKDEsXCJNXCIpKTpuLmlzU2FtZShyLFwiTVwiKSYmaSYmIWkuaXNTYW1lKHMsXCJNXCIpPyhlLnN0YXJ0Q2FsZW5kYXI9aS5jbG9uZSgpLnN1YnRyYWN0KDEsXCJNXCIpLGUuZW5kQ2FsZW5kYXI9aSk6KGUuc3RhcnRDYWxlbmRhcj1uLGUuZW5kQ2FsZW5kYXI9bi5jbG9uZSgpLmFkZCgxLFwiTVwiKSk6bi5pc1NhbWUoZS5zdGFydENhbGVuZGFyLFwiTVwiKXx8bi5pc1NhbWUoZS5lbmRDYWxlbmRhcixcIk1cIik/aSYmaS5pc0FmdGVyKGUuZW5kQ2FsZW5kYXIsXCJNXCIpJiYoZS5lbmRDYWxlbmRhcj1pKTpuLmlzQmVmb3JlKGUuc3RhcnRDYWxlbmRhcixcIk1cIik/KGUuc3RhcnRDYWxlbmRhcj1uLGkmJiFpLmlzU2FtZShlLmVuZENhbGVuZGFyLFwiTVwiKSYmKG4uaXNTYW1lKGksXCJNXCIpP2UuZW5kQ2FsZW5kYXI9bi5jbG9uZSgpLmFkZCgxLFwiTVwiKTplLmVuZENhbGVuZGFyPWkpKTpuLmlzQWZ0ZXIoZS5lbmRDYWxlbmRhcikmJihlLnN0YXJ0Q2FsZW5kYXI9bixlLmVuZENhbGVuZGFyPW4uY2xvbmUoKS5hZGQoMSxcIk1cIikpfSl9fSx7a2V5OlwiYXJlQ2FsZW5kYXJzTGlua2VkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gYW5ndWxhci5pc0RlZmluZWQodGhpcy5saW5rZWRDYWxlbmRhcnMoKSk/dGhpcy5saW5rZWRDYWxlbmRhcnMoKTohMH19XSksZX0oKX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBuKCl7XCJuZ0luamVjdFwiO3ZhciBlPXtyZXN0cmljdDpcIkVcIixzY29wZTp7bWluRGF5OlwiJlwiLG1heERheTpcIiZcIix3ZWVrU3RhcnQ6XCImXCIsZ2V0TW9udGg6XCImbW9udGhcIixnZXRJbnRlcmNlcHRvcnM6XCImaW50ZXJjZXB0b3JzXCIscmFuZ2VTdGFydDpcIiZcIixyYW5nZUVuZDpcIiZcIixzZWxlY3RlZERheTpcIiZcIixtaW5Nb250aDpcIiZcIixtYXhNb250aDpcIiZcIix3ZWVrRGF5c05hbWU6XCImXCIsbW9udGhGb3JtYXQ6XCImXCIsaW5wdXRGb3JtYXQ6XCImXCIsc2hvd0lucHV0OlwiJlwiLGFwaTpcIj0/XCJ9LHRlbXBsYXRlVXJsOlwiYXBwL2RpcmVjdGl2ZXMvY2FsZW5kYXIvY2FsZW5kYXIuaHRtbFwiLGNvbnRyb2xsZXI6cyxjb250cm9sbGVyQXM6XCJtb250aFwiLGJpbmRUb0NvbnRyb2xsZXI6ITB9O3JldHVybiBlfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgbj10W2FdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQsYSxuKXtyZXR1cm4gYSYmZSh0LnByb3RvdHlwZSxhKSxuJiZlKHQsbiksdH19KCkscj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgYT1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIGEpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsbikmJihlW25dPWFbbl0pfXJldHVybiBlfTt0LkNhbGVuZGFyPW47dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixpKXtcIm5nSW5qZWN0XCI7YSh0aGlzLGUpLHRoaXMuTW9tZW50PXQsdGhpcy5TY29wZT1uLHRoaXMuQXR0cnM9aSx0aGlzLmFwaSYmdGhpcy5zZXRBcGkoKSx0aGlzLnJlbmRlcigpfXJldHVybiBlLiRpbmplY3Q9W1wibW9tZW50XCIsXCIkc2NvcGVcIixcIiRhdHRyc1wiXSxpKGUsW3trZXk6XCJzZXRBcGlcIix2YWx1ZTpmdW5jdGlvbigpe3IodGhpcy5hcGkse3JlbmRlcjp0aGlzLnJlbmRlci5iaW5kKHRoaXMpLG1vdmVUb05leHQ6dGhpcy5tb3ZlVG9OZXh0LmJpbmQodGhpcyksc2hvd0xlZnRBcnJvdzp0aGlzLnNob3dMZWZ0QXJyb3cuYmluZCh0aGlzKX0pfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0V2Vla0RheXNOYW1lcz10aGlzLndlZWtEYXlzTmFtZSgpfHxbXCJTdW5cIixcIk1vblwiLFwiVHVlXCIsXCJXZWRcIixcIlRodVwiLFwiRnJpXCIsXCJTYXRcIl0sdGhpcy5maXJzdERheU9mV2Vlaz10aGlzLndlZWtTdGFydCgpfHxcInN1XCIsdGhpcy5kYXlzT2ZXZWVrPXRoaXMuYnVpbGRXZWVrKHRoaXMuZmlyc3REYXlPZldlZWspLHRoaXMuY2FsZW5kYXI9dGhpcy5idWlsZENhbGVuZGFyKHRoaXMuZ2V0TW9udGgoKSksdGhpcy5pbnRlcmNlcHRvcnM9dGhpcy5nZXRJbnRlcmNlcHRvcnMoKXx8e30sdGhpcy5zZXRMaXN0ZW5lcnMoKSx0aGlzLmRheXNOYW1lPXRoaXMuc2V0V2Vla0RheXNOYW1lcyh0aGlzLmRheXNPZldlZWspfX0se2tleTpcInNldFZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkRGF5KCkmJih0aGlzLnZhbHVlPXRoaXMuc2VsZWN0ZWREYXkoKS5mb3JtYXQodGhpcy5nZXRJbnB1dEZvcm1hdCgpKSl9fSx7a2V5Olwic2V0V2Vla0RheXNOYW1lc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT90aGlzLmRlZmF1bHRXZWVrRGF5c05hbWVzOmFyZ3VtZW50c1sxXSxhPVtdLG49dGhpcy5Nb21lbnQud2Vla2RheXNNaW4oKS5yZWR1Y2UoZnVuY3Rpb24oZSx0LGEpe3JldHVybiBlW3QudG9Mb3dlckNhc2UoKV09YSxlfSx7fSk7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlLGkpe3ZhciByPW5bZV07YVtpXT10W3JdfSksYX19LHtrZXk6XCJzZXRMaXN0ZW5lcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5TY29wZS4kd2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRNb250aCgpfSxmdW5jdGlvbih0KXtlLmNhbGVuZGFyPWUuYnVpbGRDYWxlbmRhcih0KX0pLHRoaXMuU2NvcGUuJHdhdGNoR3JvdXAoW2Z1bmN0aW9uKCl7cmV0dXJuIGUucmFuZ2VTdGFydCgpfSxmdW5jdGlvbigpe3JldHVybiBlLnJhbmdlRW5kKCl9XSxmdW5jdGlvbigpe2Uuc2V0VmFsdWUoKSxlLnVwZGF0ZURheXNQcm9wZXJ0aWVzKGUuY2FsZW5kYXIubW9udGhXZWVrcyl9KX19LHtrZXk6XCJ1cGRhdGVEYXlzUHJvcGVydGllc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsYT10aGlzLm1pbkRheSgpLG49dGhpcy5tYXhEYXkoKSxpPXRoaXMuc2VsZWN0ZWREYXkoKSxyPXRoaXMucmFuZ2VTdGFydCgpLHM9dGhpcy5yYW5nZUVuZCgpO2UuZm9yRWFjaChmdW5jdGlvbihlKXtlLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5zZWxlY3RlZD1lLm1vLmlzU2FtZShpfHxudWxsLFwiZGF5XCIpLGUuaW5SYW5nZT10LmlzSW5SYW5nZShlLm1vKSxlLnJhbmdlU3RhcnQ9ZS5tby5pc1NhbWUocnx8bnVsbCxcImRheVwiKSxlLnJhbmdlRW5kPWUubW8uaXNTYW1lKHN8fG51bGwsXCJkYXlcIiksYSYmKGUuZGlzYWJsZWQ9ZS5tby5pc0JlZm9yZShhLFwiZGF5XCIpKSxuJiYhZS5kaXNhYmxlZCYmKGUuZGlzYWJsZWQ9ZS5tby5pc0FmdGVyKG4sXCJkYXlcIikpfSl9KX19LHtrZXk6XCJidWlsZFdlZWtcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLk1vbWVudC53ZWVrZGF5c01pbigpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpfSksYT10LmluZGV4T2YoZS50b0xvd2VyQ2FzZSgpKSxuPXQuc2xpY2UoMCxhKSxpPXQuc2xpY2UoYSx0Lmxlbmd0aCkscj1pLmNvbmNhdChuKTtyZXR1cm4gcn19LHtrZXk6XCJidWlsZENhbGVuZGFyXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdP3RoaXMuTW9tZW50KCk6YXJndW1lbnRzWzBdLHQ9W1tdLFtdLFtdLFtdLFtdLFtdXSxhPXRoaXMuZ2V0TW9udGhEYXRlUmFuZ2UoZS55ZWFyKCksZS5tb250aCgpKzEpLG49YS5zdGFydCxpPXRoaXMuZGF5c09mV2Vlay5pbmRleE9mKG4uZm9ybWF0KFwiZGRcIikudG9Mb3dlckNhc2UoKSkscj1uLmNsb25lKCkuc3VidHJhY3QoaSxcImRcIikscz0wOzY+cztzKyspZm9yKHZhciBvPTA7Nz5vO28rKyl0W3NdW29dPXttbzpyLGN1cnJlbnREYXk6ci5pc1NhbWUodGhpcy5Nb21lbnQoKSxcImRheVwiKSxjdXJyZW50TW9udGg6ci5pc1NhbWUoZSxcIm1vbnRoXCIpfSxyPXIuY2xvbmUoKS5hZGQoMSxcImRcIik7cmV0dXJuIHRoaXMudXBkYXRlRGF5c1Byb3BlcnRpZXModCkse2N1cnJlbnRDYWxlbmRhcjplLHNlbGVjdGVkRGF0ZTplLGZpcnN0RGF5T2ZNb250aDphLnN0YXJ0LmZvcm1hdChcIkRcIiksbGFzdERheU9mTW9udGg6YS5lbmQuZm9ybWF0KFwiRFwiKSxtb250aFdlZWtzOnR9fX0se2tleTpcIm1vdmVDYWxlbmRlckJ5TW9udGhcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmNhbGVuZGFyLmN1cnJlbnRDYWxlbmRhcjt0aGlzLm1vbnRoPXQuY2xvbmUoKS5hZGQoZSxcIk1cIiksdGhpcy5jYWxlbmRhcj10aGlzLmJ1aWxkQ2FsZW5kYXIodGhpcy5tb250aC5jbG9uZSgpKX19LHtrZXk6XCJtb3ZlVG9OZXh0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmludGVyY2VwdG9ycy5tb3ZlVG9OZXh0Q2xpY2tlZD90aGlzLmludGVyY2VwdG9ycy5tb3ZlVG9OZXh0Q2xpY2tlZC5jYWxsKHRoaXMuaW50ZXJjZXB0b3JzLmNvbnRleHQpOnRoaXMubW92ZUNhbGVuZGVyQnlNb250aCgxKX19LHtrZXk6XCJtb3ZlVG9QcmV2XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmludGVyY2VwdG9ycy5tb3ZlVG9QcmV2Q2xpY2tlZD90aGlzLmludGVyY2VwdG9ycy5tb3ZlVG9QcmV2Q2xpY2tlZC5jYWxsKHRoaXMuaW50ZXJjZXB0b3JzLmNvbnRleHQpOnRoaXMubW92ZUNhbGVuZGVyQnlNb250aCgtMSl9fSx7a2V5OlwiZ2V0TW9udGhEYXRlUmFuZ2VcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBhPXRoaXMuTW9tZW50KFtlLHQtMV0pLG49dGhpcy5Nb21lbnQoYSkuZW5kT2YoXCJtb250aFwiKTtyZXR1cm57c3RhcnQ6YSxlbmQ6bn19fSx7a2V5OlwiaXNJblJhbmdlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ITEsYT10aGlzLnJhbmdlU3RhcnQoKXx8bnVsbCxuPXRoaXMucmFuZ2VFbmQoKXx8bnVsbDtyZXR1cm4gdD1lLmlzQmV0d2VlbihhLG4pfHxlLmlzU2FtZShhLFwiZGF5XCIpfHx0fHxlLmlzU2FtZShuLFwiZGF5XCIpfX0se2tleTpcImRheVNlbGVjdGVkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5kaXNhYmxlZHx8dGhpcy5pbnRlcmNlcHRvcnMuZGF5U2VsZWN0ZWQmJnRoaXMuaW50ZXJjZXB0b3JzLmRheVNlbGVjdGVkLmNhbGwodGhpcy5pbnRlcmNlcHRvcnMuY29udGV4dCxlLm1vKX19LHtrZXk6XCJkYXRlSW5wdXRFbnRlcmVkXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXsxMz09ZS5rZXlDb2RlJiYodGhpcy5kYXRlSW5wdXRTZWxlY3RlZChlLHQpLGUucHJldmVudERlZmF1bHQoKSl9fSx7a2V5OlwiZGF0ZUlucHV0U2VsZWN0ZWRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBhPXRoaXMuTW9tZW50KHQsdGhpcy5nZXRJbnB1dEZvcm1hdCgpLCEwKTtpZihhLmlzVmFsaWQoKSl7dmFyIG49dGhpcy5taW5EYXkoKSxpPXRoaXMubWF4RGF5KCk7YT1uJiZhLmlzQmVmb3JlKG4sXCJkYXlcIik/bjphLGE9aSYmYS5pc0FmdGVyKGksXCJkYXlcIik/aTphLHRoaXMuc2VsZWN0ZWREYXkoKSYmdGhpcy5zZWxlY3RlZERheSgpLmlzU2FtZShhLFwiZGF5XCIpfHwodGhpcy5pbnRlcmNlcHRvcnMuaW5wdXRTZWxlY3RlZD90aGlzLmludGVyY2VwdG9ycy5pbnB1dFNlbGVjdGVkKGEpOnRoaXMuZGF5U2VsZWN0ZWQoe21vOmF9KSl9fX0se2tleTpcImdldEZvcm1hdHRlZE1vbnRoXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuTW9tZW50KGUpLmZvcm1hdCh0aGlzLmdldE1vbnRoRm9ybWF0KCkpfX0se2tleTpcImdldE1vbnRoRm9ybWF0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb250aEZvcm1hdCgpfHxcIk1NTU0gWVlZWVwifX0se2tleTpcImdldElucHV0Rm9ybWF0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnB1dEZvcm1hdCgpfHxcIk1NTSBERCwgWVlZWVwifX0se2tleTpcInNob3dMZWZ0QXJyb3dcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1pbk1vbnRoKCk/IXRoaXMubWluTW9udGgoKS5pc1NhbWUodGhpcy5jYWxlbmRhci5jdXJyZW50Q2FsZW5kYXIuY2xvbmUoKS5zdWJ0cmFjdCgxLFwiTVwiKSxcIk1cIik6dGhpcy5taW5EYXkoKT8hdGhpcy5taW5EYXkoKS5pc1NhbWUodGhpcy5jYWxlbmRhci5jdXJyZW50Q2FsZW5kYXIsXCJNXCIpOiEwfX0se2tleTpcInNob3dSaWdodEFycm93XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXhNb250aCgpPyF0aGlzLm1heE1vbnRoKCkuaXNTYW1lKHRoaXMuZ2V0TW9udGgoKS5jbG9uZSgpLmFkZCgxLFwiTVwiKSxcIk1cIik6dGhpcy5tYXhEYXkoKT8hdGhpcy5tYXhEYXkoKS5pc1NhbWUodGhpcy5nZXRNb250aCgpLFwiTVwiKTohMH19LHtrZXk6XCJfc2hvd0lucHV0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gYW5ndWxhci5pc0RlZmluZWQodGhpcy5zaG93SW5wdXQoKSk/dGhpcy5zaG93SW5wdXQoKTohMH19XSksZX0oKX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBuKCl7XCJuZ0luamVjdFwiO3ZhciBlPXtyZXN0cmljdDpcIkVcIixzY29wZTp7d2Vla1N0YXJ0OlwiJlwiLHJhbmdlOlwiPT9cIix3ZWVrRGF5c05hbWU6XCImXCIsZm9ybWF0OlwiJlwiLHJhbmdlczpcIiZcIixtaW5EYXk6XCImXCIsbWF4RGF5OlwiJlwiLG1vbnRoRm9ybWF0OlwiJlwiLGlucHV0Rm9ybWF0OlwiJlwiLG9uQXBwbHk6XCImXCIsbGlua2VkQ2FsZW5kYXJzOlwiJlwiLGF1dG9BcHBseTpcIiZcIixkaXNhYmxlZDpcIiZcIixjYWxlbmRhcnNBbHdheXNPbjpcIiZcIixhcGk6XCI9P1wifSxjb250cm9sbGVyOm8sdGVtcGxhdGVVcmw6XCJhcHAvZGlyZWN0aXZlcy9vYi1kYXRlLXJhbmdlLXBpY2tlci9vYi1kYXRlLXJhbmdlLXBpY2tlci5odG1sXCIsY29udHJvbGxlckFzOlwib2JEYXRlUmFuZ2VQaWNrZXJcIixiaW5kVG9Db250cm9sbGVyOiEwfTtyZXR1cm4gZX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2YXIgYT1bXSxuPSEwLGk9ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgcyxvPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0ocz1vLm5leHQoKSkuZG9uZSkmJihhLnB1c2gocy52YWx1ZSksIXR8fGEubGVuZ3RoIT09dCk7bj0hMCk7fWNhdGNoKGQpe2k9ITAscj1kfWZpbmFsbHl7dHJ5eyFuJiZvW1wicmV0dXJuXCJdJiZvW1wicmV0dXJuXCJdKCl9ZmluYWxseXtpZihpKXRocm93IHJ9fXJldHVybiBhfXJldHVybiBmdW5jdGlvbih0LGEpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQ7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh0KSlyZXR1cm4gZSh0LGEpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpfX0oKSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgbj10W2FdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQsYSxuKXtyZXR1cm4gYSYmZSh0LnByb3RvdHlwZSxhKSxuJiZlKHQsbiksdH19KCkscz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgYT1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIGEpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsbikmJihlW25dPWFbbl0pfXJldHVybiBlfTt0Lk9iRGF0ZVJhbmdlUGlja2VyPW47dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixpLHIsbyl7XCJuZ0luamVjdFwiO3ZhciBkPXRoaXM7YSh0aGlzLGUpLHRoaXMuRWxlbWVudD1uLHRoaXMuRG9jdW1lbnQ9dCx0aGlzLlNjb3BlPWksdGhpcy5Nb21lbnQ9cix0aGlzLnJhbmdlPXRoaXMucmFuZ2V8fG8ucmFuZ2V8fHt9LHRoaXMucGlja2VyQXBpPXt9LHRoaXMud2Vla1N0YXJ0PXRoaXMud2Vla1N0YXJ0KCk/dGhpcy53ZWVrU3RhcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gby53ZWVrU3RhcnR9LHRoaXMud2Vla0RheXNOYW1lPXRoaXMud2Vla0RheXNOYW1lKCk/dGhpcy53ZWVrRGF5c05hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gby53ZWVrRGF5c05hbWV9LHRoaXMuZm9ybWF0PXRoaXMuZm9ybWF0KCk/dGhpcy5mb3JtYXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5mb3JtYXR9LHRoaXMucmFuZ2VzPXRoaXMucmFuZ2VzKCk/dGhpcy5yYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gby5yYW5nZXN9LHRoaXMubWluRGF5PXRoaXMubWluRGF5KCk/dGhpcy5taW5EYXk6ZnVuY3Rpb24oKXtyZXR1cm4gby5taW5EYXl9LHRoaXMubWF4RGF5PXRoaXMubWF4RGF5KCk/dGhpcy5tYXhEYXk6ZnVuY3Rpb24oKXtyZXR1cm4gby5tYXhEYXl9LHRoaXMubW9udGhGb3JtYXQ9dGhpcy5tb250aEZvcm1hdCgpP3RoaXMubW9udGhGb3JtYXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5tb250aEZvcm1hdH0sdGhpcy5pbnB1dEZvcm1hdD10aGlzLmlucHV0Rm9ybWF0KCk/dGhpcy5pbnB1dEZvcm1hdDpmdW5jdGlvbigpe3JldHVybiBvLmlucHV0Rm9ybWF0fSx0aGlzLmxpbmtlZENhbGVuZGFycz1hbmd1bGFyLmlzRGVmaW5lZCh0aGlzLmxpbmtlZENhbGVuZGFycygpKT90aGlzLmxpbmtlZENhbGVuZGFyczpmdW5jdGlvbigpe3JldHVybiBvLmxpbmtlZENhbGVuZGFyc30sdGhpcy5hdXRvQXBwbHk9YW5ndWxhci5pc0RlZmluZWQodGhpcy5hdXRvQXBwbHkoKSk/dGhpcy5hdXRvQXBwbHk6ZnVuY3Rpb24oKXtyZXR1cm4gby5hdXRvQXBwbHl9LHRoaXMuZGlzYWJsZWQ9YW5ndWxhci5pc0RlZmluZWQodGhpcy5kaXNhYmxlZCgpKT90aGlzLmRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIG8uZGlzYWJsZWR9LHRoaXMuY2FsZW5kYXJzQWx3YXlzT249YW5ndWxhci5pc0RlZmluZWQodGhpcy5jYWxlbmRhcnNBbHdheXNPbigpKT90aGlzLmNhbGVuZGFyc0Fsd2F5c09uOmZ1bmN0aW9uKCl7cmV0dXJuIG8uY2FsZW5kYXJzQWx3YXlzT259LHRoaXMuaXNDdXN0b21WaXNpYmxlPXRoaXMuY2FsZW5kYXJzQWx3YXlzT24oKSx0aGlzLnNldE9wZW5DbG9zZUxvZ2ljKCksdGhpcy5zZXRXYXRjaGVycygpLHRoaXMudmFsdWU9XCJTZWxlY3QgYSBSYW5nZVwiLHRoaXMuYXBpJiZzKHRoaXMuYXBpLHtzZXREYXRlUmFuZ2U6dGhpcy5zZXREYXRlUmFuZ2UuYmluZCh0aGlzKSx0b2dnbGVQaWNrZXI6dGhpcy50b2dnbGVQaWNrZXIuYmluZCh0aGlzKSxyZW5kZXI6ZnVuY3Rpb24oKXtkLnJlbmRlcigpLGQucGlja2VyQXBpLnJlbmRlcigpfX0pLHRoaXMucHJlUmFuZ2VzPXRoaXMucmFuZ2VzKCl8fFtdLHRoaXMucHJlUmFuZ2VzLmxlbmd0aD90aGlzLnByZVJhbmdlcy5wdXNoKHtuYW1lOlwiQ3VzdG9tXCIsaXNDdXN0b206ITB9KTp0aGlzLmlzQ3VzdG9tVmlzaWJsZT0hMCx0aGlzLnJlbmRlcigpLHRoaXMuc2V0TGlzdGVuZXJzKCl9cmV0dXJuIGUuJGluamVjdD1bXCIkZG9jdW1lbnRcIixcIiRlbGVtZW50XCIsXCIkc2NvcGVcIixcIm1vbWVudFwiLFwiZGF0ZVJhbmdlUGlja2VyQ29uZlwiXSxyKGUsW3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuX3JhbmdlPXtzdGFydDp0aGlzLk1vbWVudCgpLGVuZDp0aGlzLk1vbWVudCgpfSx0aGlzLnNldFByZWRlZmluZWRTdGF0dXMoKSx0aGlzLnJhbmdlLnN0YXJ0JiZ0aGlzLnJhbmdlLmVuZCYmIXRoaXMuTW9tZW50LmlzTW9tZW50KHRoaXMucmFuZ2Uuc3RhcnQpJiYhdGhpcy5Nb21lbnQuaXNNb21lbnQodGhpcy5yYW5nZS5lbmQpJiZ0aGlzLmZvcm1hdCgpKXRoaXMuX3JhbmdlPXtzdGFydDp0aGlzLk1vbWVudCh0aGlzLnJhbmdlLnN0YXJ0LHRoaXMuZ2V0Rm9ybWF0KCkpLGVuZDp0aGlzLk1vbWVudCh0aGlzLnJhbmdlLmVuZCx0aGlzLmdldEZvcm1hdCgpKX07ZWxzZSBpZih0aGlzLk1vbWVudC5pc01vbWVudCh0aGlzLnJhbmdlLnN0YXJ0KSYmdGhpcy5Nb21lbnQuaXNNb21lbnQodGhpcy5yYW5nZS5lbmQpKXRoaXMuX3JhbmdlPXtzdGFydDp0aGlzLnJhbmdlLnN0YXJ0LGVuZDp0aGlzLnJhbmdlLmVuZH07ZWxzZSBpZih0aGlzLnByZVJhbmdlcy5sZW5ndGg+MSl7dmFyIGU9dGhpcy5wcmVSYW5nZXNbMF07dGhpcy5fcmFuZ2Uuc3RhcnQ9ZS5zdGFydCx0aGlzLl9yYW5nZS5lbmQ9ZS5lbmR9dGhpcy5fcmFuZ2Uuc3RhcnQuaXNBZnRlcih0aGlzLl9yYW5nZS5lbmQpP3RoaXMuX3JhbmdlLnN0YXJ0PXRoaXMuX3JhbmdlLmVuZC5jbG9uZSgpOnRoaXMuX3JhbmdlLmVuZC5pc0JlZm9yZSh0aGlzLl9yYW5nZS5zdGFydCkmJih0aGlzLl9yYW5nZS5lbmQ9dGhpcy5fcmFuZ2Uuc3RhcnQuY2xvbmUoKSksdGhpcy5hcHBseU1pbk1heERheXNUb1JhbmdlKCksdGhpcy5zZXRSYW5nZSgpLHRoaXMubWFya1ByZWRlZmluZWQodGhpcy5fcmFuZ2Uuc3RhcnQsdGhpcy5fcmFuZ2UuZW5kKSx0aGlzLnNldFBpY2tlckludGVyY2VwdG9ycygpfX0se2tleTpcImFwcGx5TWluTWF4RGF5c1RvUmFuZ2VcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMubWluRGF5KCkpe3ZhciBlPXRoaXMuX2dldE1pbkRheSgpO3RoaXMuX3JhbmdlLnN0YXJ0PXRoaXMuX3JhbmdlLnN0YXJ0LmlzQmVmb3JlKGUsXCJkXCIpP2U6dGhpcy5fcmFuZ2Uuc3RhcnQsdGhpcy5fcmFuZ2UuZW5kPXRoaXMuX3JhbmdlLmVuZC5pc0JlZm9yZShlLFwiZFwiKT9lOnRoaXMuX3JhbmdlLmVuZH1pZih0aGlzLm1heERheSgpKXt2YXIgdD10aGlzLl9nZXRNYXhEYXkoKTt0aGlzLl9yYW5nZS5zdGFydD10aGlzLl9yYW5nZS5zdGFydC5pc0FmdGVyKHQpP3Q6dGhpcy5fcmFuZ2Uuc3RhcnQsdGhpcy5fcmFuZ2UuZW5kPXRoaXMuX3JhbmdlLmVuZC5pc0FmdGVyKHQpP3Q6dGhpcy5fcmFuZ2UuZW5kfX19LHtrZXk6XCJzZXRQaWNrZXJJbnRlcmNlcHRvcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5waWNrZXJJbnRlcmNlcHRvcnM9e3JhbmdlU2VsZWN0ZWRCeUNsaWNrOmZ1bmN0aW9uKCl7ZS5hdXRvQXBwbHkoKSYmZS5hcHBseUNoYW5nZXMoKX19fX0se2tleTpcInNldFByZWRlZmluZWRTdGF0dXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5wcmVSYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0KXtpZighdC5pc0N1c3RvbSl7aWYodC5kaXNhYmxlZD0hMSxlLm1pbkRheSgpKXt2YXIgYT1lLl9nZXRNaW5EYXkoKTt0LmRpc2FibGVkPXQuc3RhcnQuaXNCZWZvcmUoYSxcImRcIil9aWYoIXQuZGlzYWJsZWQmJmUubWF4RGF5KCkpe3ZhciBuPWUuX2dldE1heERheSgpO3QuZGlzYWJsZWQ9dC5lbmQuaXNBZnRlcihuLFwiZFwiKX19fSl9fSx7a2V5Olwic2V0V2F0Y2hlcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5TY29wZS4kd2F0Y2hHcm91cChbZnVuY3Rpb24oKXtyZXR1cm4gZS5fcmFuZ2Uuc3RhcnR9LGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3JhbmdlLmVuZH1dLGZ1bmN0aW9uKHQpe3ZhciBhPWkodCwyKSxuPWFbMF0scj1hWzFdO2Uuc2VsZkNoYW5nZXx8biYmciYmKGUucHJlUmFuZ2VzLmxlbmd0aCYmKGUucHJlUmFuZ2VzW2UucHJlUmFuZ2VzLmxlbmd0aC0xXS5zdGFydD1uLGUucHJlUmFuZ2VzW2UucHJlUmFuZ2VzLmxlbmd0aC0xXS5lbmQ9cixlLm1hcmtQcmVkZWZpbmVkKG4scikpLGUudmFsdWU9ZS5nZXRSYW5nZVZhbHVlKCkpLGUuc2VsZkNoYW5nZT0hMX0pfX0se2tleTpcInNldE9wZW5DbG9zZUxvZ2ljXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmlzUGlja2VyVmlzaWJsZT0hMSx0aGlzLnBpY2tlclBvcHVwPWFuZ3VsYXIuZWxlbWVudCh0aGlzLkVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcihcIi5waWNrZXJcIikpLHRoaXMuZWxlbUNsaWNrRmxhZz0hMX19LHtrZXk6XCJzZXRMaXN0ZW5lcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17ZG9jdW1lbnRDbGljazpmdW5jdGlvbigpe2UuZWxlbUNsaWNrRmxhZz9lLmVsZW1DbGlja0ZsYWc9ITE6KGUuaXNQaWNrZXJWaXNpYmxlJiZlLmRpc2NhcmRDaGFuZ2VzKCksZS5TY29wZS4kYXBwbHkoKSl9LGRvY3VtZW50RXNjOmZ1bmN0aW9uKHQpezI3PT10LmtleUNvZGUmJmUuaXNQaWNrZXJWaXNpYmxlJiYoZS5kaXNjYXJkQ2hhbmdlcygpLGUuaGlkZVBpY2tlcigpLGUuU2NvcGUuJGFwcGx5KCkpfSxwaWNrZXJDbGljazpmdW5jdGlvbigpe2UuZWxlbUNsaWNrRmxhZz0hMCxlLlNjb3BlLiRhcHBseSgpfX07dGhpcy5waWNrZXJQb3B1cC5vbihcImNsaWNrXCIsdC5waWNrZXJDbGljay5iaW5kKHRoaXMpKSx0aGlzLkRvY3VtZW50Lm9uKFwiY2xpY2tcIix0LmRvY3VtZW50Q2xpY2suYmluZCh0aGlzKSksdGhpcy5Eb2N1bWVudC5vbihcImtleWRvd25cIix0LmRvY3VtZW50RXNjLmJpbmQodGhpcykpLHRoaXMuU2NvcGUuJG9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2UucGlja2VyUG9wdXAub2ZmKFwiY2xpY2tcIix0LnBpY2tlckNsaWNrKSxlLkRvY3VtZW50Lm9mZihcImNsaWNrXCIsdC5kb2N1bWVudENsaWNrKSxlLkRvY3VtZW50Lm9mZihcImtleWRvd25cIix0LmRvY3VtZW50Q2xpY2spfSl9fSx7a2V5OlwidG9nZ2xlUGlja2VyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hbmd1bGFyLmlzRGVmaW5lZCh0aGlzLmRpc2FibGVkKCkpP3RoaXMuZGlzYWJsZWQoKTohMTtlfHx0aGlzLmlzUGlja2VyVmlzaWJsZT90aGlzLmlzUGlja2VyVmlzaWJsZT0hMToodGhpcy5pc1BpY2tlclZpc2libGU9ITAsdGhpcy5lbGVtQ2xpY2tGbGFnPSEwKX19LHtrZXk6XCJoaWRlUGlja2VyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmlzUGlja2VyVmlzaWJsZT0hMX19LHtrZXk6XCJzZXRSYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdP3RoaXMuX3JhbmdlOmFyZ3VtZW50c1swXTt0aGlzLmZvcm1hdCgpPyh0aGlzLnJhbmdlLnN0YXJ0PWUuc3RhcnQuZm9ybWF0KHRoaXMuZ2V0Rm9ybWF0KCkpLHRoaXMucmFuZ2UuZW5kPWUuZW5kLmZvcm1hdCh0aGlzLmdldEZvcm1hdCgpKSk6KHRoaXMucmFuZ2Uuc3RhcnQ9ZS5zdGFydCx0aGlzLnJhbmdlLmVuZD1lLmVuZCl9fSx7a2V5OlwicHJlZGVmaW5lZFJhbmdlU2VsZWN0ZWRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2UuZGlzYWJsZWR8fChlLmlzQ3VzdG9tP3RoaXMuaXNDdXN0b21WaXNpYmxlPSEwOih0aGlzLnNlbGZDaGFuZ2U9ITAsdGhpcy5zZWxlY3RlZFJlbmdlSW5kZXg9dCx0aGlzLnZhbHVlPWUubmFtZSx0aGlzLl9yYW5nZS5zdGFydD1lLnN0YXJ0LHRoaXMuX3JhbmdlLmVuZD1lLmVuZCx0aGlzLmlzQ3VzdG9tVmlzaWJsZT10aGlzLmNhbGVuZGFyc0Fsd2F5c09uKCl8fCExLHRoaXMuYXBwbHlDaGFuZ2VzKCkpKX19LHtrZXk6XCJnZXRGb3JtYXRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZvcm1hdCgpfHxcIk1NLURELVlZWVlcIn19LHtrZXk6XCJkaXNjYXJkQ2hhbmdlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRGb3JtYXQoKSx0PXRoaXMuTW9tZW50KHRoaXMucmFuZ2Uuc3RhcnQsZSksYT10aGlzLk1vbWVudCh0aGlzLnJhbmdlLmVuZCxlKTt0aGlzLl9yYW5nZS5zdGFydD10LHRoaXMuX3JhbmdlLmVuZD1hLHRoaXMudmFsdWU9dGhpcy5nZXRSYW5nZVZhbHVlKCksdGhpcy5waWNrZXJBcGkuc2V0Q2FsZW5kYXJQb3NpdGlvbih0LGEpLHRoaXMuaGlkZVBpY2tlcigpfX0se2tleTpcIm1hcmtQcmVkZWZpbmVkXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLnNlbGVjdGVkUmVuZ2VJbmRleD10aGlzLnByZVJhbmdlcy5maW5kSW5kZXgoZnVuY3Rpb24oYSl7cmV0dXJuIGUuaXNTYW1lKGEuc3RhcnQsXCJkYXlcIikmJnQuaXNTYW1lKGEuZW5kLFwiZGF5XCIpfSl9fSx7a2V5OlwiZ2V0UmFuZ2VWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXZvaWQgMCxhPXRoaXMuZ2V0SW5wdXRGb3JtYXQoKTtpZih0aGlzLnByZVJhbmdlcy5sZW5ndGgpe3ZhciBuPXRoaXMucHJlUmFuZ2VzLmZpbmRJbmRleChmdW5jdGlvbih0KXtyZXR1cm4gZS5fcmFuZ2Uuc3RhcnQuaXNTYW1lKHQuc3RhcnQsXCJkYXlcIikmJmUuX3JhbmdlLmVuZC5pc1NhbWUodC5lbmQsXCJkYXlcIil9KTstMSE9PW4mJih0PXRoaXMucHJlUmFuZ2VzW25dLmlzQ3VzdG9tP3RoaXMucHJlUmFuZ2VzW25dLnN0YXJ0LmZvcm1hdChhKStcIiAtIFwiK3RoaXMucHJlUmFuZ2VzW25dLmVuZC5mb3JtYXQoYSk6dGhpcy5wcmVSYW5nZXNbbl0ubmFtZSl9ZWxzZSB0PXRoaXMuX3JhbmdlLnN0YXJ0LmZvcm1hdChhKStcIiAtIFwiK3RoaXMuX3JhbmdlLmVuZC5mb3JtYXQoYSk7cmV0dXJuIHR9fSx7a2V5OlwiYXBwbHlDaGFuZ2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/ITA6YXJndW1lbnRzWzBdO3RoaXMuc2V0UmFuZ2UoKSx0aGlzLmhpZGVQaWNrZXIoKSx0aGlzLnBpY2tlckFwaS5zZXRDYWxlbmRhclBvc2l0aW9uKHRoaXMuX3JhbmdlLnN0YXJ0LHRoaXMuX3JhbmdlLmVuZCksZSYmdGhpcy5vbkFwcGx5JiZ0aGlzLm9uQXBwbHkoe3N0YXJ0OnRoaXMuX3JhbmdlLnN0YXJ0LGVuZDp0aGlzLl9yYW5nZS5lbmR9KX19LHtrZXk6XCJnZXRJbnB1dEZvcm1hdFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5wdXRGb3JtYXQoKXx8XCJNTU0gREQsIFlZWVlcIn19LHtrZXk6XCJzZXREYXRlUmFuZ2VcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9yYW5nZS5zdGFydD1lLnN0YXJ0LHRoaXMuX3JhbmdlLmVuZD1lLmVuZCx0aGlzLmFwcGx5Q2hhbmdlcyghMSl9fSx7a2V5OlwiX2dldE1pbkRheVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWluRGF5KCk/dGhpcy5Nb21lbnQodGhpcy5taW5EYXkoKSx0aGlzLmdldEZvcm1hdCgpKTp2b2lkIDB9fSx7a2V5OlwiX2dldE1heERheVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWF4RGF5KCk/dGhpcy5Nb21lbnQodGhpcy5tYXhEYXkoKSx0aGlzLmdldEZvcm1hdCgpKTp2b2lkIDB9fV0pLGV9KCl9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gbigpe1wibmdJbmplY3RcIjt2YXIgZT17cmVzdHJpY3Q6XCJFXCIsc2NvcGU6e3dlZWtTdGFydDpcIiZcIixzZWxlY3RlZERheTpcIj0/XCIsd2Vla0RheXNOYW1lOlwiJlwiLGZvcm1hdDpcIiZcIixtaW5EYXk6XCImXCIsbWF4RGF5OlwiJlwiLG1vbnRoRm9ybWF0OlwiJlwiLGlucHV0Rm9ybWF0OlwiJlwiLG9uQXBwbHk6XCImXCIsZGlzYWJsZWQ6XCImXCIsZm9ybU5hbWU6XCJAbmFtZVwiLGlzVmFsaWREYXRlRW5hYmxlZDpcIiZ2YWxpZERheVwiLGF1dG9BcHBseTpcIiZcIixhcGk6XCI9P1wifSxjb250cm9sbGVyOnMsdGVtcGxhdGVVcmw6XCJhcHAvZGlyZWN0aXZlcy9vYi1kYXktcGlja2VyL29iLWRheS1waWNrZXIuaHRtbFwiLGNvbnRyb2xsZXJBczpcImRheVBpY2tlclwiLGJpbmRUb0NvbnRyb2xsZXI6ITB9O3JldHVybiBlfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgbj10W2FdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQsYSxuKXtyZXR1cm4gYSYmZSh0LnByb3RvdHlwZSxhKSxuJiZlKHQsbiksdH19KCkscj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgYT1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIGEpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsbikmJihlW25dPWFbbl0pfXJldHVybiBlfTt0Lk9iRGF5UGlja2VyPW47dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixpLHMsbyxkKXtcIm5nSW5qZWN0XCI7dmFyIGM9dGhpczthKHRoaXMsZSksdGhpcy5FbGVtZW50PW4sdGhpcy5Eb2N1bWVudD10LHRoaXMuU2NvcGU9aSx0aGlzLiR0aW1lb3V0PXMsdGhpcy5Nb21lbnQ9byx0aGlzLndlZWtTdGFydD10aGlzLndlZWtTdGFydCgpP3RoaXMud2Vla1N0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuIGQud2Vla1N0YXJ0fSx0aGlzLndlZWtEYXlzTmFtZT10aGlzLndlZWtEYXlzTmFtZSgpP3RoaXMud2Vla0RheXNOYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIGQud2Vla0RheXNOYW1lfSx0aGlzLmZvcm1hdD10aGlzLmZvcm1hdCgpP3RoaXMuZm9ybWF0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuZm9ybWF0fSx0aGlzLm1pbkRheT10aGlzLm1pbkRheSgpP3RoaXMubWluRGF5OmZ1bmN0aW9uKCl7cmV0dXJuIGQubWluRGF5fSx0aGlzLm1heERheT10aGlzLm1heERheSgpP3RoaXMubWF4RGF5OmZ1bmN0aW9uKCl7cmV0dXJuIGQubWF4RGF5fSx0aGlzLm1vbnRoRm9ybWF0PXRoaXMubW9udGhGb3JtYXQoKT90aGlzLm1vbnRoRm9ybWF0OmZ1bmN0aW9uKCl7cmV0dXJuIGQubW9udGhGb3JtYXR9LHRoaXMuaW5wdXRGb3JtYXQ9dGhpcy5pbnB1dEZvcm1hdCgpP3RoaXMuaW5wdXRGb3JtYXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5pbnB1dEZvcm1hdH0sdGhpcy5hdXRvQXBwbHk9YW5ndWxhci5pc0RlZmluZWQodGhpcy5hdXRvQXBwbHkoKSk/dGhpcy5hdXRvQXBwbHk6ZnVuY3Rpb24oKXtyZXR1cm4gZC5hdXRvQXBwbHl9LHRoaXMuZGlzYWJsZWQ9YW5ndWxhci5pc0RlZmluZWQodGhpcy5kaXNhYmxlZCgpKT90aGlzLmRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIGQuZGlzYWJsZWR9LHRoaXMuaXNWYWxpZERhdGVFbmFibGVkPWFuZ3VsYXIuaXNEZWZpbmVkKHRoaXMuaXNWYWxpZERhdGVFbmFibGVkKCkpP3RoaXMuaXNWYWxpZERhdGVFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIGQuaXNWYWxpZERhdGVFbmFibGVkfSx0aGlzLmZvcm1OYW1lPXRoaXMuZm9ybU5hbWV8fFwiZGF5UGlja2VySW5wdXRcIix0aGlzLnNldE9wZW5DbG9zZUxvZ2ljKCksdGhpcy5fc2VsZWN0ZWREYXk9dGhpcy5nZXRTZWxlY3RlZERheSgpLHRoaXMudmFsdWU9dGhpcy5Nb21lbnQodGhpcy5fc2VsZWN0ZWREYXkpLmZvcm1hdCh0aGlzLmdldEZvcm1hdCgpKSx0aGlzLnNldENhbGVuZGFySW50ZXJjZXB0b3JzKCksdGhpcy5jYWxlbmRhckFwaT17fSx0aGlzLmFwaSYmcih0aGlzLmFwaSx7cmVuZGVyOmZ1bmN0aW9uKCl7Yy5yZW5kZXIoKX19KSx0aGlzLnNldExpc3RlbmVycygpLHRoaXMuZGF5VmFsaWRpdHk9dGhpcy5jaGVja0lmRGF5SXNWYWxpZCh0aGlzLl9zZWxlY3RlZERheSksdGhpcy4kdGltZW91dChmdW5jdGlvbigpe2MuYXBwbHlWYWxpZGl0eShjLmRheVZhbGlkaXR5KX0pfXJldHVybiBlLiRpbmplY3Q9W1wiJGRvY3VtZW50XCIsXCIkZWxlbWVudFwiLFwiJHNjb3BlXCIsXCIkdGltZW91dFwiLFwibW9tZW50XCIsXCJkYXRlUGlja2VyQ29uZlwiXSxpKGUsW3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZGF5VmFsaWRpdHk9dGhpcy5jaGVja0lmRGF5SXNWYWxpZCh0aGlzLl9zZWxlY3RlZERheSksdGhpcy5hcHBseVZhbGlkaXR5KHRoaXMuZGF5VmFsaWRpdHkpLHRoaXMuY2FsZW5kYXJBcGkucmVuZGVyJiZ0aGlzLmNhbGVuZGFyQXBpLnJlbmRlcigpfX0se2tleTpcInNldE9wZW5DbG9zZUxvZ2ljXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmlzUGlja2VyVmlzaWJsZT0hMSx0aGlzLnBpY2tlclBvcHVwPWFuZ3VsYXIuZWxlbWVudCh0aGlzLkVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcihcIi5waWNrZXJcIikpLHRoaXMuZWxlbUNsaWNrRmxhZz0hMX19LHtrZXk6XCJzZXRDYWxlbmRhckludGVyY2VwdG9yc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jYWxlbmRhckludGVyY2VwdG9ycz17ZGF5U2VsZWN0ZWQ6dGhpcy5kYXlTZWxlY3RlZC5iaW5kKHRoaXMpfX19LHtrZXk6XCJzZXRMaXN0ZW5lcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17ZG9jdW1lbnRDbGljazpmdW5jdGlvbigpe2UuZWxlbUNsaWNrRmxhZz9lLmVsZW1DbGlja0ZsYWc9ITE6KGUub25CbHVyKCksZS5TY29wZS4kZGlnZXN0KCkpfSxwaWNrZXJDbGljazpmdW5jdGlvbigpe2UuZWxlbUNsaWNrRmxhZz0hMCxlLlNjb3BlLiRkaWdlc3QoKX19O3RoaXMucGlja2VyUG9wdXAub24oXCJjbGlja1wiLHQucGlja2VyQ2xpY2suYmluZCh0aGlzKSksdGhpcy5Eb2N1bWVudC5vbihcImNsaWNrXCIsdC5kb2N1bWVudENsaWNrLmJpbmQodGhpcykpLHRoaXMuU2NvcGUuJG9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2UucGlja2VyUG9wdXAub2ZmKFwiY2xpY2tcIix0LnBpY2tlckNsaWNrKSxlLkRvY3VtZW50Lm9mZihcImNsaWNrXCIsdC5kb2N1bWVudENsaWNrKX0pLHRoaXMuU2NvcGUuJHdhdGNoR3JvdXAoW2Z1bmN0aW9uKCl7cmV0dXJuIGUuTW9tZW50KGUubWluRGF5KCksZS5nZXRGb3JtYXQoKSkuZm9ybWF0KCl9LGZ1bmN0aW9uKCl7cmV0dXJuIGUuTW9tZW50KGUubWF4RGF5KCksZS5nZXRGb3JtYXQoKSkuZm9ybWF0KCl9XSxmdW5jdGlvbih0LGEpeyh0JiZ0WzBdfHxhJiZhWzBdKSYmZS5yZW5kZXIoKX0pfX0se2tleTpcInNob3dQaWNrZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFuZ3VsYXIuaXNEZWZpbmVkKHRoaXMuZGlzYWJsZWQoKSk/dGhpcy5kaXNhYmxlZCgpOiExO2V8fHRoaXMuaXNQaWNrZXJWaXNpYmxlfHwodGhpcy5pc1BpY2tlclZpc2libGU9ITApLHRoaXMuZWxlbUNsaWNrRmxhZz0hMH19LHtrZXk6XCJoaWRlUGlja2VyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmlzUGlja2VyVmlzaWJsZT0hMX19LHtrZXk6XCJkYXlTZWxlY3RlZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsYT1hcmd1bWVudHMubGVuZ3RoPD0xfHx2b2lkIDA9PT1hcmd1bWVudHNbMV0/MTAwOmFyZ3VtZW50c1sxXTt0aGlzLmFwcGx5VmFsaWRpdHkodGhpcy5jaGVja0lmRGF5SXNWYWxpZChlKSksZS5pc1NhbWUodGhpcy5fc2VsZWN0ZWREYXksXCJkYXlcIik/dGhpcy5oaWRlUGlja2VyKCk6KHRoaXMuY2FsZW5kYXJBcGkucmVuZGVyKCksdGhpcy52YWx1ZT10aGlzLk1vbWVudChlKS5mb3JtYXQodGhpcy5nZXRGb3JtYXQoKSksdGhpcy5fc2VsZWN0ZWREYXk9ZSx0aGlzLiR0aW1lb3V0KGZ1bmN0aW9uKCl7dC5oaWRlUGlja2VyKCksdC51cGRhdGVTZWxlY3RlZERhdGUoZSl9LGEpKX19LHtrZXk6XCJkYXRlSW5wdXRFbnRlcmVkXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgYT10aGlzLmNoZWNrSWZEYXlJc1ZhbGlkKHQpO3N3aXRjaChlLmtleUNvZGUpe2Nhc2UgOTpjYXNlIDEzOnZhciBuPXRoaXMuZ2V0SW5wdXRWYWx1ZSgpO2E/dGhpcy5kYXlTZWxlY3RlZChuLDApOih0aGlzLmhpZGVQaWNrZXIoKSwxMz09PWUua2V5Q29kZSYmZS5wcmV2ZW50RGVmYXVsdCgpKTticmVhaztjYXNlIDQwOnRoaXMuaXNQaWNrZXJWaXNpYmxlPSEwO2JyZWFrO2Nhc2UgMjc6dGhpcy5pc1BpY2tlclZpc2libGU9ITEsdGhpcy52YWx1ZT10aGlzLl9zZWxlY3RlZERheS5mb3JtYXQodGhpcy5nZXRGb3JtYXQoKSl9fX0se2tleTpcImdldElucHV0VmFsdWVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLk1vbWVudCh0aGlzLnZhbHVlLHRoaXMuZ2V0Rm9ybWF0KCksITApfX0se2tleTpcIm9uQmx1clwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRJbnB1dFZhbHVlKCksdD10aGlzLmNoZWNrSWZEYXlJc1ZhbGlkKGUpO3Q/dGhpcy5kYXlTZWxlY3RlZChlKTp0aGlzLmhpZGVQaWNrZXIoKX19LHtrZXk6XCJ1cGRhdGVWYWxpZGl0eVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRJbnB1dFZhbHVlKCksdD10aGlzLmNoZWNrSWZEYXlJc1ZhbGlkKGUpO3RoaXMuYXBwbHlWYWxpZGl0eSh0KSx0JiZ0aGlzLmF1dG9BcHBseSgpJiYhZS5pc1NhbWUodGhpcy5fc2VsZWN0ZWREYXksXCJkYXlcIikmJih0aGlzLl9zZWxlY3RlZERheT1lLHRoaXMudXBkYXRlU2VsZWN0ZWREYXRlKGUpKX19LHtrZXk6XCJjaGVja0lmRGF5SXNWYWxpZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuTW9tZW50KGUsdGhpcy5nZXRGb3JtYXQoKSwhMCksYT10aGlzLl9nZXRNaW5EYXkoKSxuPXRoaXMuX2dldE1heERheSgpLGk9dC5pc1ZhbGlkKCk7cmV0dXJuIGkmJmEmJihpPXQuaXNBZnRlcihhLFwiZGF5XCIpfHx0LmlzU2FtZShhLFwiZGF5XCIpKSxpJiZuJiYoaT10LmlzQmVmb3JlKG4sXCJkYXlcIil8fHQuaXNTYW1lKG4sXCJkYXlcIikpLGl9fSx7a2V5OlwiYXBwbHlWYWxpZGl0eVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuU2NvcGVbdGhpcy5mb3JtTmFtZV0mJih0aGlzLmRpc2FibGVkJiZ0aGlzLmRpc2FibGVkKCk/KHRoaXMuU2NvcGVbdGhpcy5mb3JtTmFtZV0uJHNldFZhbGlkaXR5KFwidmFsaWREYXlcIiwhMCksdGhpcy5kYXlWYWxpZGl0eT0hMCk6dGhpcy5pc1ZhbGlkRGF0ZUVuYWJsZWQoKSYmdGhpcy5TY29wZVt0aGlzLmZvcm1OYW1lXSYmKHRoaXMuU2NvcGVbdGhpcy5mb3JtTmFtZV0uJHNldFZhbGlkaXR5KFwidmFsaWREYXlcIixlKSx0aGlzLmRheVZhbGlkaXR5PWUpKX19LHtrZXk6XCJ1cGRhdGVTZWxlY3RlZERhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT90aGlzLl9zZWxlY3RlZERheTphcmd1bWVudHNbMF07dGhpcy5mb3JtYXQoKT90aGlzLnNlbGVjdGVkRGF5PWUuZm9ybWF0KHRoaXMuZ2V0Rm9ybWF0KCkpOnRoaXMuc2VsZWN0ZWREYXk9ZSx0aGlzLm9uQXBwbHkoe2RheTp0aGlzLnNlbGVjdGVkRGF5fSl9fSx7a2V5OlwiZ2V0U2VsZWN0ZWREYXlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLk1vbWVudCh0aGlzLnNlbGVjdGVkRGF5fHx0aGlzLk1vbWVudCgpLHRoaXMuZ2V0Rm9ybWF0KCkpfX0se2tleTpcImdldEZvcm1hdFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZm9ybWF0KCl8fFwiTU1NIERELCBZWVlZXCJ9fSx7a2V5OlwiX2dldE1pbkRheVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWluRGF5KCk/dGhpcy5Nb21lbnQodGhpcy5taW5EYXkoKSx0aGlzLmdldEZvcm1hdCgpKTp2b2lkIDB9fSx7a2V5OlwiX2dldE1heERheVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWF4RGF5KCk/dGhpcy5Nb21lbnQodGhpcy5tYXhEYXkoKSx0aGlzLmdldEZvcm1hdCgpKTp2b2lkIDB9fV0pLGV9KCl9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7QXJyYXkucHJvdG90eXBlLmZpbmRJbmRleHx8KEFycmF5LnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oZSl7aWYobnVsbD09PXRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFycmF5LnByb3RvdHlwZS5maW5kSW5kZXggY2FsbGVkIG9uIG51bGwgb3IgdW5kZWZpbmVkXCIpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcInByZWRpY2F0ZSBtdXN0IGJlIGEgZnVuY3Rpb25cIik7Zm9yKHZhciB0LGE9T2JqZWN0KHRoaXMpLG49YS5sZW5ndGg+Pj4wLGk9YXJndW1lbnRzWzFdLHI9MDtuPnI7cisrKWlmKHQ9YVtyXSxlLmNhbGwoaSx0LHIsYSkpcmV0dXJuIHI7cmV0dXJuLTF9KX1dKSxhbmd1bGFyLm1vZHVsZShcIm9iRGF0ZVJhbmdlUGlja2VyXCIpLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLGZ1bmN0aW9uKGUpe2UucHV0KFwiYXBwL2RpcmVjdGl2ZXMvY2FsZW5kYXIvY2FsZW5kYXIuaHRtbFwiLCc8ZGl2IGNsYXNzPVwiaW5wdXQtY29udGFpbmVyXCIgbmctaWY9XCJtb250aC5fc2hvd0lucHV0KClcIj48bGFiZWw+e3ttb250aC5BdHRycy5sYWJlbH19PC9sYWJlbD4gPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJtb250aC52YWx1ZVwiIG5nLWtleXByZXNzPVwibW9udGguZGF0ZUlucHV0RW50ZXJlZCgkZXZlbnQsIG1vbnRoLnZhbHVlKVwiIG5nLWJsdXI9XCJtb250aC5kYXRlSW5wdXRTZWxlY3RlZCgkZXZlbnQsIG1vbnRoLnZhbHVlKVwiPjwvZGl2PjxkaXYgY2xhc3M9XCJoZWFkZXJcIj48c3BhbiBjbGFzcz1cImFycm93LWJ0biBsZWZ0XCIgbmctaWY9XCJtb250aC5zaG93TGVmdEFycm93KClcIiBuZy1jbGljaz1cIm1vbnRoLm1vdmVUb1ByZXYoKVwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJkYXRlXCI+e3ttb250aC5nZXRGb3JtYXR0ZWRNb250aChtb250aC5jYWxlbmRhci5jdXJyZW50Q2FsZW5kYXIpfX08L3NwYW4+IDxzcGFuIGNsYXNzPVwiYXJyb3ctYnRuIHJpZ2h0XCIgbmctaWY9XCJtb250aC5zaG93UmlnaHRBcnJvdygpXCIgbmctY2xpY2s9XCJtb250aC5tb3ZlVG9OZXh0KDEpXCI+PC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XCJib2FyZFwiPjxkaXYgY2xhc3M9XCJkYXlzLW9mLXdlZWtcIj48c3BhbiBjbGFzcz1cImRheS1uYW1lXCIgbmctcmVwZWF0PVwiZGF5IGluIG1vbnRoLmRheXNOYW1lIHRyYWNrIGJ5ICRpbmRleFwiPnt7ZGF5fX08L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cIndlZWtzXCI+PGRpdiBuZy1yZXBlYXQ9XCJ3ZWVrIGluIG1vbnRoLmNhbGVuZGFyLm1vbnRoV2Vla3MgdHJhY2sgYnkgJGluZGV4XCI+PHNwYW4gY2xhc3M9XCJkYXlcIiBuZy1yZXBlYXQ9XCJkYXkgaW4gd2VlayB0cmFjayBieSAkaW5kZXhcIiBuZy1jbGFzcz1cInsgXFwnc2VsZWN0ZWRcXCc6IGRheS5zZWxlY3RlZCwgXFwnY3VycmVudFxcJzogZGF5LmN1cnJlbnREYXksIFxcJ290aGVyLW1vbnRoXFwnOiAhZGF5LmN1cnJlbnRNb250aCwgXFwnaW4tcmFuZ2VcXCc6IGRheS5pblJhbmdlLCBcXCdyYW5nZS1zdGFydFxcJzogZGF5LnJhbmdlU3RhcnQsIFxcJ3JhbmdlLWVuZFxcJzogZGF5LnJhbmdlRW5kLCBcXCdkaXNhYmxlZFxcJzogZGF5LmRpc2FibGVkIH1cIiBuZy1jbGljaz1cIm1vbnRoLmRheVNlbGVjdGVkKGRheSlcIj57e2RheS5tby5mb3JtYXQoXFwnRFxcJyl9fTwvc3Bhbj48L2Rpdj48L2Rpdj48L2Rpdj4nKSxlLnB1dChcImFwcC9kaXJlY3RpdmVzL2RhdGUtcmFuZ2UtcGlja2VyL2RhdGUtcmFuZ2UtcGlja2VyLmh0bWxcIiwnPGNhbGVuZGFyIGNsYXNzPVwiY2FsZW5kYXJcIiBhcGk9XCJwaWNrZXIuc3RhcnRDYWxlbmRhckFwaVwiIG1pbi1kYXk9XCJwaWNrZXIubWluRGF5KClcIiBtYXgtZGF5PVwicGlja2VyLm1heERheSgpXCIgd2Vlay1zdGFydD1cInBpY2tlci53ZWVrU3RhcnQoKVwiIG1vbnRoPVwicGlja2VyLnN0YXJ0Q2FsZW5kYXJcIiBpbnRlcmNlcHRvcnM9XCJwaWNrZXIuc3RhcnRDYWxlbmRhckludGVyY2VwdG9yc1wiIHJhbmdlLXN0YXJ0PVwicGlja2VyLnJhbmdlU3RhcnRcIiByYW5nZS1lbmQ9XCJwaWNrZXIucmFuZ2VFbmRcIiBzZWxlY3RlZC1kYXk9XCJwaWNrZXIucmFuZ2VTdGFydFwiIG1heC1tb250aD1cInBpY2tlci5lbmRDYWxlbmRhclwiIHdlZWstZGF5cy1uYW1lPVwicGlja2VyLndlZWtEYXlzTmFtZSgpXCIgbW9udGgtZm9ybWF0PVwicGlja2VyLm1vbnRoRm9ybWF0KClcIiBpbnB1dC1mb3JtYXQ9XCJwaWNrZXIuaW5wdXRGb3JtYXQoKVwiIGxhYmVsPVwiU3RhcnQgRGF0ZVwiPjwvY2FsZW5kYXI+PGNhbGVuZGFyIGNsYXNzPVwiY2FsZW5kYXJcIiBhcGk9XCJwaWNrZXIuZW5kQ2FsZW5kYXJBcGlcIiBtaW4tZGF5PVwicGlja2VyLm1pbkRheSgpXCIgbWF4LWRheT1cInBpY2tlci5tYXhEYXkoKVwiIHdlZWstc3RhcnQ9XCJwaWNrZXIud2Vla1N0YXJ0KClcIiBtb250aD1cInBpY2tlci5lbmRDYWxlbmRhclwiIGludGVyY2VwdG9ycz1cInBpY2tlci5lbmRDYWxlbmRhckludGVyY2VwdG9yc1wiIHJhbmdlLXN0YXJ0PVwicGlja2VyLnJhbmdlU3RhcnRcIiByYW5nZS1lbmQ9XCJwaWNrZXIucmFuZ2VFbmRcIiBzZWxlY3RlZC1kYXk9XCJwaWNrZXIucmFuZ2VFbmRcIiBtaW4tbW9udGg9XCJwaWNrZXIuc3RhcnRDYWxlbmRhclwiIHdlZWstZGF5cy1uYW1lPVwicGlja2VyLndlZWtEYXlzTmFtZSgpXCIgbW9udGgtZm9ybWF0PVwicGlja2VyLm1vbnRoRm9ybWF0KClcIiBpbnB1dC1mb3JtYXQ9XCJwaWNrZXIuaW5wdXRGb3JtYXQoKVwiIGxhYmVsPVwiRW5kIERhdGVcIj48L2NhbGVuZGFyPicpLGUucHV0KFwiYXBwL2RpcmVjdGl2ZXMvb2ItZGF5LXBpY2tlci9vYi1kYXktcGlja2VyLmh0bWxcIiwnPGRpdiBuZy1mb3JtPVwie3s6OmRheVBpY2tlci5mb3JtTmFtZX19XCIgY2xhc3M9XCJwaWNrZXItZHJvcGRvd24tY29udGFpbmVyXCIgbmctY2xhc3M9XCJ7XFwnb3BlblxcJzogZGF5UGlja2VyLmlzUGlja2VyVmlzaWJsZSwgXFwnZGlzYWJsZWRcXCc6IGRheVBpY2tlci5kaXNhYmxlZCgpLCBcXCdpbnZhbGlkXFwnOiAhZGF5UGlja2VyLmRheVZhbGlkaXR5fVwiPjxpbnB1dCBjbGFzcz1cInBpY2tlci1pbnB1dFwiIG5nLW1vZGVsPVwiZGF5UGlja2VyLnZhbHVlXCIgbmctY2hhbmdlPVwiZGF5UGlja2VyLnVwZGF0ZVZhbGlkaXR5KClcIiBuZy1rZXlkb3duPVwiZGF5UGlja2VyLmRhdGVJbnB1dEVudGVyZWQoJGV2ZW50LCBkYXlQaWNrZXIudmFsdWUpXCIgbmctY2xpY2s9XCJkYXlQaWNrZXIuc2hvd1BpY2tlcigpXCIgbmctZGlzYWJsZWQ9XCJkYXlQaWNrZXIuZGlzYWJsZWQoKVwiPjxkaXYgY2xhc3M9XCJwaWNrZXJcIiBuZy1zaG93PVwiZGF5UGlja2VyLmlzUGlja2VyVmlzaWJsZVwiPjxjYWxlbmRhciBjbGFzcz1cImNhbGVuZGFyXCIgYXBpPVwiZGF5UGlja2VyLmNhbGVuZGFyQXBpXCIgbWluLWRheT1cImRheVBpY2tlci5fZ2V0TWluRGF5KClcIiBtYXgtZGF5PVwiZGF5UGlja2VyLl9nZXRNYXhEYXkoKVwiIHdlZWstc3RhcnQ9XCJkYXlQaWNrZXIud2Vla1N0YXJ0KClcIiBtb250aD1cImRheVBpY2tlci5fc2VsZWN0ZWREYXlcIiBpbnRlcmNlcHRvcnM9XCJkYXlQaWNrZXIuY2FsZW5kYXJJbnRlcmNlcHRvcnNcIiBzZWxlY3RlZC1kYXk9XCJkYXlQaWNrZXIuX3NlbGVjdGVkRGF5XCIgbWluLW1vbnRoPVwiZGF5UGlja2VyLnN0YXJ0Q2FsZW5kYXJcIiB3ZWVrLWRheXMtbmFtZT1cImRheVBpY2tlci53ZWVrRGF5c05hbWUoKVwiIG1vbnRoLWZvcm1hdD1cImRheVBpY2tlci5tb250aEZvcm1hdCgpXCIgc2hvdy1pbnB1dD1cImZhbHNlXCI+PC9jYWxlbmRhcj48L2Rpdj48L2Rpdj4nKSxlLnB1dChcImFwcC9kaXJlY3RpdmVzL29iLWRhdGUtcmFuZ2UtcGlja2VyL29iLWRhdGUtcmFuZ2UtcGlja2VyLmh0bWxcIiwnPGRpdiBjbGFzcz1cInBpY2tlci1kcm9wZG93bi1jb250YWluZXJcIiBuZy1jbGFzcz1cIntcXCdkaXNhYmxlZFxcJzogb2JEYXRlUmFuZ2VQaWNrZXIuZGlzYWJsZWQoKX1cIj48ZGl2IGNsYXNzPVwicGlja2VyLWRyb3Bkb3duXCIgbmctY2xhc3M9XCJ7XFwnb3BlblxcJzogb2JEYXRlUmFuZ2VQaWNrZXIuaXNQaWNrZXJWaXNpYmxlfVwiIG5nLWNsaWNrPVwib2JEYXRlUmFuZ2VQaWNrZXIudG9nZ2xlUGlja2VyKClcIj48c3Bhbj57e29iRGF0ZVJhbmdlUGlja2VyLnZhbHVlfX08L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cInBpY2tlclwiIG5nLWNsYXNzPVwie1xcJ29wZW5cXCc6IG9iRGF0ZVJhbmdlUGlja2VyLmlzUGlja2VyVmlzaWJsZX1cIiBuZy1zaG93PVwib2JEYXRlUmFuZ2VQaWNrZXIuaXNQaWNrZXJWaXNpYmxlXCI+PGRpdiBjbGFzcz1cImRhdGUtcmFuZ2VcIiBuZy1zaG93PVwib2JEYXRlUmFuZ2VQaWNrZXIuaXNDdXN0b21WaXNpYmxlXCI+PGRhdGUtcmFuZ2UtcGlja2VyIG5nLWlmPVwib2JEYXRlUmFuZ2VQaWNrZXIuaXNQaWNrZXJWaXNpYmxlXCIgYXBpPVwib2JEYXRlUmFuZ2VQaWNrZXIucGlja2VyQXBpXCIgaW50ZXJjZXB0b3JzPVwib2JEYXRlUmFuZ2VQaWNrZXIucGlja2VySW50ZXJjZXB0b3JzXCIgbGlua2VkLWNhbGVuZGFycz1cIm9iRGF0ZVJhbmdlUGlja2VyLmxpbmtlZENhbGVuZGFycygpXCIgd2Vlay1zdGFydD1cIm9iRGF0ZVJhbmdlUGlja2VyLndlZWtTdGFydCgpXCIgcmFuZ2U9XCJvYkRhdGVSYW5nZVBpY2tlci5fcmFuZ2VcIiB3ZWVrLWRheXMtbmFtZT1cIm9iRGF0ZVJhbmdlUGlja2VyLndlZWtEYXlzTmFtZSgpXCIgbWluLWRheT1cIm9iRGF0ZVJhbmdlUGlja2VyLl9nZXRNaW5EYXkoKVwiIG1heC1kYXk9XCJvYkRhdGVSYW5nZVBpY2tlci5fZ2V0TWF4RGF5KClcIiBtb250aC1mb3JtYXQ9XCJvYkRhdGVSYW5nZVBpY2tlci5tb250aEZvcm1hdCgpXCIgaW5wdXQtZm9ybWF0PVwib2JEYXRlUmFuZ2VQaWNrZXIuaW5wdXRGb3JtYXQoKVwiPjwvZGF0ZS1yYW5nZS1waWNrZXI+PC9kaXY+PGRpdiBjbGFzcz1cInJhbmdlcy1hY3Rpb25zXCIgbmctY2xhc3M9XCJ7XFwnY3VzdG9tLW9wZW5cXCc6IG9iRGF0ZVJhbmdlUGlja2VyLmlzQ3VzdG9tVmlzaWJsZX1cIj48ZGl2IGNsYXNzPVwicmFuZ2VzXCI+PGRpdiBjbGFzcz1cInJhbmdlXCIgbmctcmVwZWF0PVwicmFuZ2UgaW4gb2JEYXRlUmFuZ2VQaWNrZXIucHJlUmFuZ2VzIHRyYWNrIGJ5ICRpbmRleFwiIG5nLWNsYXNzPVwie1xcJ3NlbGVjdGVkXFwnOiBvYkRhdGVSYW5nZVBpY2tlci5zZWxlY3RlZFJlbmdlSW5kZXggPT09ICRpbmRleCwgXFwnZGlzYWJsZWRcXCc6IHJhbmdlLmRpc2FibGVkfVwiIG5nLWNsaWNrPVwib2JEYXRlUmFuZ2VQaWNrZXIucHJlZGVmaW5lZFJhbmdlU2VsZWN0ZWQocmFuZ2UsICRpbmRleClcIiBuZy1pZj1cIiEkbGFzdCB8fCAoJGxhc3QgJiYgIW9iRGF0ZVJhbmdlUGlja2VyLmNhbGVuZGFyc0Fsd2F5c09uKCkpXCI+e3tyYW5nZS5uYW1lfX08L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwiYWN0aW9uc1wiIG5nLWlmPVwiIW9iRGF0ZVJhbmdlUGlja2VyLmF1dG9BcHBseSgpXCI+PGRpdiBjbGFzcz1cImRycF9idG4gY2FuY2VsXCIgbmctY2xpY2s9XCJvYkRhdGVSYW5nZVBpY2tlci5kaXNjYXJkQ2hhbmdlcygpXCI+Q2FuY2VsPC9kaXY+PGRpdiBjbGFzcz1cImRycF9idG4gYXBwbHlcIiBuZy1jbGljaz1cIm9iRGF0ZVJhbmdlUGlja2VyLmFwcGx5Q2hhbmdlcygpXCI+QVBQTFk8L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPS4uL21hcHMvc2NyaXB0cy9vYi1kYXRlcmFuZ2VwaWNrZXIuanMubWFwXG4iXX0=
